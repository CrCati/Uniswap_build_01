(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[8,3],{1868:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"h",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return g}));n(310),n(581),n(1896);var r="e2d0r63 e2d0r61 rgw6ez4sj rgw6ez2po rgw6ez2qv rgw6ez2w3 rgw6ez2xa rgw6ez33a rgw6ez2k1 rgw6ez52p rgw6ez7y5 rgw6ez87x rgw6ez7yh rgw6ez5sd rgw6ez6cv",i="e2d0r65 e2d0r61 rgw6ez4sj rgw6ez2qu rgw6ez2x9 rgw6ez2jn rgw6ez52v rgw6ezbx rgw6ezen",c="rgw6ez1aq rgw6ez1ip rgw6ez7zh",a="rgw6eze9 rgw6ezcb rgw6ezg7 rgw6ezhy rgw6ez8a9 rgw6ez4sx rgw6ez4t4",o="e2d0r6a rgw6ezeg rgw6ezcb rgw6ezg7 rgw6ez4ec",s="e2d0r6c rgw6eze9 rgw6ezc4 rgw6ezg0 rgw6ez52v",d="e2d0r6e rgw6ezen rgw6ezcb rgw6ezg0 rgw6ez52p rgw6ez1lf rgw6ez4v9 rgw6ez2ph",l="e2d0r6h e2d0r6g rgw6ezen rgw6ezcb rgw6ezg0 rgw6ez2qu rgw6ez2x9 rgw6ez33a rgw6ez2k1 rgw6ez1du rgw6ez5gp rgw6ez875 rgw6ez7zp rgw6ez8ct",u="e2d0r6j e2d0r6g rgw6ezen rgw6ezcb rgw6ezg0 rgw6ez2qu rgw6ez2x9 rgw6ez33a rgw6ez2k1 rgw6ez1du rgw6ez5gp rgw6ez875 rgw6ez7zp rgw6ez8ct rgw6ez4zj rgw6ez7y5",b="e2d0r6l rgw6ezeg rgw6ezc4 rgw6ezfm rgw6ez2qu rgw6ez2x9 rgw6ez33a rgw6ez2k1 rgw6ez5d1 rgw6ez52p rgw6ez7zp rgw6ez7y5",f="rgw6ez17t rgw6ez1fs rgw6ez7zd rgw6ez4js",g="e2d0r6p rgw6ez2po rgw6ez2w3 rgw6ez4ry rgw6ez7zd rgw6ez1fs rgw6ez1dn rgw6ez52p rgw6ez5d1 rgw6ezbq rgw6ezen rgw6ez7y5"},1870:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),i=n(83),c=n(279),a=n(72),o=n(116),s=(n(1),n(1881)),d=n(0),l=["hovered","children"],u=function(e){var t=e.hovered,n=e.children,u=Object(i.a)(e,l);return Object(d.jsxs)(a.b,{as:"label",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",cursor:"pointer",lineHeight:"1",children:[n,Object(d.jsx)(a.b,{as:"span",borderColor:u.checked||t?"accentAction":"gray400",className:s.c,background:u.checked?"accentAction":void 0,"aria-hidden":"true"}),Object(d.jsx)("input",Object(r.a)(Object(r.a)({},u),{},{className:s.d,type:"checkbox"})),Object(d.jsx)(o.e,{className:Object(c.default)(s.a,u.checked&&s.b)})]})}},1871:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(3),i=n(816),c=n(1),a=n(72),o=n(0),s=Object(c.forwardRef)((function(e,t){return Object(o.jsx)(a.b,Object(r.a)({ref:t,as:"input",borderColor:{default:"backgroundOutline",focus:"textSecondary"},borderWidth:"1px",borderStyle:"solid",borderRadius:"12",padding:"12",fontSize:"14",color:{placeholder:"textSecondary",default:"textPrimary"},backgroundColor:"transparent"},e))}));s.displayName="Input";var d=Object(c.forwardRef)((function(e,t){return Object(o.jsx)(a.b,Object(r.a)({ref:t,as:"input",inputMode:"decimal",autoComplete:"off",type:"text",borderColor:{default:"backgroundOutline",focus:"textSecondary"},color:{placeholder:"textSecondary",default:"textPrimary"},onInput:function(e){"."===e.currentTarget.value&&(e.currentTarget.value="0."),e.currentTarget.value=e.currentTarget.value&&Object(i.b)(e.currentTarget.value)&&parseFloat(e.currentTarget.value)>=0?e.currentTarget.value:""}},e))}));d.displayName="Input"},1872:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));n(310),n(581),n(810),n(1902);var r="rgw6ez4ry rgw6ez4v9 rgw6ez13j",i=["@media screen and (min-width:","960px","){padding-left:48px;padding-right:48px;}@media screen and (max-width:","960px","){padding-left:26px;padding-right:26px;}@media screen and (max-width:","540px","){padding-left:20px;padding-right:20px;}@media screen and (max-width:","420px","){padding-left:16px;padding-right:16px;}"]},1877:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n(3),c=n(34),a=n(311),o=n(105),s=n(1),d=n(29);function l(e,t,n){var r,c,o=Object(a.b)(),l=Object(d.p)({variables:{filter:e,first:t},skip:!o,fetchPolicy:n}),u=l.data,b=l.loading,f=l.fetchMore,g=l.error,j=null===u||void 0===u||null===(r=u.nftActivity)||void 0===r||null===(c=r.pageInfo)||void 0===c?void 0:c.hasNextPage,p=Object(s.useCallback)((function(){var e,t;return f({variables:{after:null===u||void 0===u||null===(e=u.nftActivity)||void 0===e||null===(t=e.pageInfo)||void 0===t?void 0:t.endCursor}})}),[u,f]),h=Object(s.useMemo)((function(){var e,t;return null===u||void 0===u||null===(e=u.nftActivity)||void 0===e||null===(t=e.edges)||void 0===t?void 0:t.map((function(e){var t,n,r,c,a,o,s,d=null===e||void 0===e?void 0:e.node,l=null===d||void 0===d?void 0:d.asset;return{collectionAddress:d.address,tokenId:d.tokenId,tokenMetadata:{name:null===l||void 0===l?void 0:l.name,imageUrl:null===l||void 0===l||null===(t=l.image)||void 0===t?void 0:t.url,smallImageUrl:null===l||void 0===l||null===(n=l.smallImage)||void 0===n?void 0:n.url,metadataUrl:null===l||void 0===l?void 0:l.metadataUrl,rarity:{primaryProvider:"Rarity Sniper",providers:null===l||void 0===l||null===(r=l.rarities)||void 0===r?void 0:r.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{provider:"Rarity Sniper"})}))},suspiciousFlag:null===l||void 0===l?void 0:l.suspiciousFlag,standard:null===l||void 0===l||null===(c=l.nftContract)||void 0===c?void 0:c.standard},eventType:d.type,marketplace:d.marketplace,fromAddress:d.fromAddress,toAddress:d.toAddress,transactionHash:d.transactionHash,orderStatus:d.orderStatus,price:null===(a=d.price)||void 0===a?void 0:a.value.toString(),symbol:null===l||void 0===l||null===(o=l.collection)||void 0===o||null===(s=o.image)||void 0===s?void 0:s.url,quantity:d.quantity,url:d.url,eventTimestamp:1e3*d.timestamp}}))}),[u]);return Object(s.useMemo)((function(){return{nftActivity:h,hasNext:j,loadMore:p,loading:b,error:g}}),[j,p,b,h,g])}Object(o.a)(r||(r=Object(c.a)(["\n  query NftActivity($filter: NftActivityFilterInput, $after: String, $first: Int) {\n    nftActivity(filter: $filter, after: $after, first: $first) {\n      edges {\n        node {\n          id\n          address\n          tokenId\n          asset {\n            id\n            metadataUrl\n            image {\n              id\n              url\n            }\n            smallImage {\n              id\n              url\n            }\n            name\n            rarities {\n              id\n              provider\n              rank\n              score\n            }\n            suspiciousFlag\n            nftContract {\n              id\n              standard\n            }\n            collection {\n              id\n              image {\n                id\n                url\n              }\n            }\n          }\n          type\n          marketplace\n          fromAddress\n          toAddress\n          transactionHash\n          price {\n            id\n            value\n          }\n          orderStatus\n          quantity\n          url\n          timestamp\n        }\n      }\n      pageInfo {\n        endCursor\n        hasNextPage\n        hasPreviousPage\n        startCursor\n      }\n    }\n  }\n"])))},1878:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return R})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return W}));var r=n(8),i=n(5),c=n(3),a=n(2),o=n(38),s=n(26),d=n(336),l=n(103),u=n(311),b=n(29),f=n(72),g=n(118),j=n(116),p=n(47),h=n(717),x=n(822),m=n(368),O=n(1879),v=n(584),w=n(817),y=n(1),k=n(11),z=n(129),T=n(1868),C=n(0),I=Object(a.default)(k.l).withConfig({componentId:"sc-ey20j9-0"})(["color:",";text-decoration:none;font-weight:400;line-height:20px;a{color:",";text-decoration:none;}a:hover{color:",";text-decoration:none;opacity:",";}a:focus{color:",";text-decoration:none;opacity:",";}"],(function(e){return e.theme.textPrimary}),(function(e){return e.theme.textPrimary}),(function(e){return e.theme.textPrimary}),(function(e){return e.theme.opacity.hover}),(function(e){return e.theme.textPrimary}),(function(e){return e.theme.opacity.click})),S=function(e){switch(e){case b.g.Executed:return"Sold";case b.g.Cancelled:return"Cancelled";case b.g.Expired:return"Expired";case b.g.Valid:return"Add to Bag";default:return""}},N=function(e){var t=e.event,n=e.collectionName,r=e.selectAsset,i=e.removeAsset,a=e.itemsInBag,d=e.cartExpanded,l=e.toggleCart,j=e.isMobile,p=e.ethPriceInUSD,h=Object(u.b)(),m=Object(y.useMemo)((function(){return Object(x.a)(t,n,p,h)}),[t,n,p,h]),O=Object(y.useMemo)((function(){return a.some((function(e){return m.tokenId===e.asset.tokenId&&m.address===e.asset.address}))}),[m,a]),v=Object(o.useTrace)({page:s.InterfacePageName.NFT_COLLECTION_PAGE}),w=Object(c.a)({collection_address:m.address,token_id:m.tokenId,token_type:m.tokenType},v);return Object(C.jsx)(g.b,{display:{sm:"none",lg:"flex"},height:"full",justifyContent:"center",marginX:"auto",children:t.eventType===b.d.Listing&&t.orderStatus?Object(C.jsx)(f.b,{as:"button",className:t.orderStatus===b.g.Valid&&O?T.l:T.b,onClick:function(e){e.preventDefault(),O?i([m]):r([m]),!O&&!d&&!j&&l(),!O&&Object(o.sendAnalyticsEvent)(s.NFTEventName.NFT_BUY_ADDED,{eventProperties:w})},disabled:t.orderStatus!==b.g.Valid,children:t.orderStatus===b.g.Valid?Object(C.jsx)(C.Fragment,{children:"".concat(O?"Remove":"Add to bag")}):Object(C.jsx)(C.Fragment,{children:"".concat(S(t.orderStatus))})}):"-"})},E=function(e){var t=e.address,n=e.desktopLBreakpoint,r=e.chainId;return Object(C.jsx)(g.b,{display:{sm:"none",xl:n?"none":"flex",xxl:"flex"},className:T.a,children:Object(C.jsx)(I,{href:Object(z.b)(null!==r&&void 0!==r?r:d.b.MAINNET,null!==t&&void 0!==t?t:"",z.a.ADDRESS),style:{textDecoration:"none"},children:Object(C.jsx)(f.b,{onClick:function(e){return e.stopPropagation()},children:t?Object(h.a)(t,2,4):"-"})})})},_=function(e){var t=e.marketplace;return Object(C.jsx)(f.b,{as:"img",alt:t,src:"/nft/svgs/marketplaces/".concat(t.toLowerCase(),".svg"),className:T.j})},M=function(e){var t=e.price;return Object(C.jsx)(l.a,{text:Object(C.jsx)(f.b,{textAlign:"left",fontSize:"14",fontWeight:"normal",color:"textSecondary",children:"".concat(t," ETH")}),placement:"top",children:Object(C.jsx)(f.b,{children:"".concat(t.substring(0,5),"... ETH")})})},R=function(e){var t=e.marketplace,n=e.price,r=Object(u.b)(),i=Object(y.useMemo)((function(){var e;return n?r?Object(m.b)(parseFloat(null===n||void 0===n?void 0:n.toString())):null===(e=Object(v.a)(Object(m.c)(n.toString())))||void 0===e?void 0:e.toString():null}),[r,n]);return Object(C.jsxs)(g.c,{display:{sm:"none",md:"flex"},gap:"8",children:[t&&Object(C.jsx)(_,{marketplace:t}),i?i.length>6?Object(C.jsx)(M,{price:i}):Object(C.jsx)(C.Fragment,{children:"".concat(i," ETH")}):Object(C.jsx)(C.Fragment,{children:"-"})]})},A=function(e){switch(e){case b.d.Listing:return Object(C.jsx)(j.b,{width:16,height:16});case b.d.Sale:return Object(C.jsx)(j.c,{width:16,height:16});case b.d.Transfer:return Object(C.jsx)(j.d,{width:16,height:16});case b.d.CancelListing:return Object(C.jsx)(j.m,{width:16,height:16});default:return null}},F=function(e){var t=e.transactionHash;return Object(C.jsx)(g.c,{onClick:function(e){return function(e,t){e.preventDefault(),window.open("https://etherscan.io/tx/".concat(t),"_blank","noopener,noreferrer")}(e,t)},marginLeft:"4",children:Object(C.jsx)(j.a,{})})},P=function(e){var t;return(t={},Object(i.a)(t,b.d.Listing,"gold"),Object(i.a)(t,b.d.Sale,"green"),Object(i.a)(t,b.d.Transfer,"violet"),Object(i.a)(t,b.d.CancelListing,"accentFailure"),t)[e]},B=function(e){var t=e.eventType,n=e.eventTimestamp,r=e.eventTransactionHash,i=e.eventOnly,c=e.price,a=e.isMobile,o=Object(u.b)(),s=Object(y.useMemo)((function(){var e;return c?o?Object(m.b)(parseFloat(null===c||void 0===c?void 0:c.toString())):null===(e=Object(v.a)(Object(m.c)(c.toString())))||void 0===e?void 0:e.toString():null}),[o,c]);return Object(C.jsxs)(g.b,{height:"full",justifyContent:"center",gap:"4",children:[Object(C.jsxs)(g.c,{className:T.e,color:P(t),children:[A(t),p.b[t]]}),n&&(Object(O.b)(n)||o)&&!a&&!i&&Object(C.jsxs)(g.c,{className:T.g,children:[Object(O.a)(n.toString(),o),r&&Object(C.jsx)(F,{transactionHash:r})]}),a&&c&&Object(C.jsx)(g.c,{fontSize:"16",fontWeight:"normal",color:"textPrimary",children:"".concat(s," ETH")})]})},L=function(){return Object(C.jsx)(f.b,{position:"relative",style:{background:"#24272e"},className:T.c,children:Object(C.jsxs)(f.b,{position:"absolute",textAlign:"center",left:"1/2",top:"1/2",style:{transform:"translate3d(-50%, -50%, 0)"},color:"gray500",fontSize:"12",fontWeight:"normal",children:["Image",Object(C.jsx)("br",{}),"not",Object(C.jsx)("br",{}),"available"]})})},H=function(e){var t,n=e.rarity,r=e.collectionName,i=e.rarityVerified,c=n.source||n.primaryProvider,a=n.rank||(null===(t=n.providers)||void 0===t?void 0:t[0].rank),o=Object(w.b)(c);return a?Object(C.jsx)(f.b,{children:Object(C.jsx)(l.a,{text:Object(C.jsxs)(g.c,{children:[Object(C.jsx)(f.b,{display:"flex",marginRight:"4",children:Object(C.jsx)("img",{src:o,alt:"cardLogo",width:16})}),Object(C.jsx)(f.b,{width:"full",fontSize:"14",children:i?"Verified by ".concat(r):"Ranking by ".concat("Genie"===c?w.a:c)})]}),placement:"top",children:Object(C.jsxs)(f.b,{className:T.k,children:[Object(C.jsx)(f.b,{paddingTop:"2",paddingBottom:"2",display:"flex",children:Object(v.a)(a)}),Object(C.jsx)(f.b,{display:"flex",height:"16",children:i?Object(C.jsx)(j.T,{}):null})]})})}):null},D=function(e){return(null===e||void 0===e?void 0:e.smallImageUrl)||(null===e||void 0===e?void 0:e.imageUrl)},W=function(e){var t,n,i,c,a=e.event,o=e.rarityVerified,s=e.collectionName,d=e.eventTimestamp,l=e.isMobile,b=Object(y.useState)(!1),j=Object(r.a)(b,2),p=j[0],h=j[1],x=Object(y.useState)(!D(a.tokenMetadata)),m=Object(r.a)(x,2),v=m[0],w=m[1],k=Object(u.b)();return Object(C.jsxs)(g.c,{gap:"16",overflow:"hidden",whiteSpace:"nowrap",children:[v?Object(C.jsx)(L,{}):Object(C.jsx)(f.b,{as:"img",alt:(null===(t=a.tokenMetadata)||void 0===t?void 0:t.name)||a.tokenId,src:D(a.tokenMetadata),draggable:!1,className:T.c,style:{background:p?"none":"#24272e"},onLoad:function(){return h(!0)},onError:function(){return w(!0)}}),Object(C.jsxs)(g.b,{height:"full",justifyContent:"center",overflow:"hidden",whiteSpace:"nowrap",marginRight:"24",children:[Object(C.jsx)(f.b,{className:T.d,children:(null===(n=a.tokenMetadata)||void 0===n?void 0:n.name)||a.tokenId}),(null===(i=a.tokenMetadata)||void 0===i?void 0:i.rarity)&&!l&&Object(C.jsx)(H,{rarity:null===(c=a.tokenMetadata)||void 0===c?void 0:c.rarity,rarityVerified:o,collectionName:s}),l&&d&&(Object(O.b)(d)||k)&&Object(O.a)(d.toString(),k)]})]})}},1879:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e){var t=Date.parse(e.toString());return!isNaN(t)},i=function(e,t){var n=t?parseFloat(e):new Date(e).getTime(),r=(new Date).getTime()-n,i=Math.floor(r/864e5),c=Math.floor(r%864e5/36e5),a=Math.floor(r%36e5/6e4);return i>0?"".concat(i," day").concat(i>1?"s":""," ago"):c>0?"".concat(c," hour").concat(c>1?"s":""," ago"):a>1?"".concat(a," minutes ago"):"Just now"}},1880:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(310),n(1898);var r="_1w5t04p1 rgw6ez4sj rgw6ez4ec rgw6ez4ed rgw6ez4es rgw6ez4f7"},1881:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));n(310),n(1899);var r="jqx09a1 rgw6ez4wf",i="rgw6ez4sc rgw6ezu7 rgw6ez7zd rgw6ez1gd rgw6ez18e rgw6ez7yh rgw6ez885",c="rgw6ez4rk rgw6ez1gd rgw6ez18e rgw6ez551",a="rgw6ez4sc rgw6ez551 rgw6ez4wf rgw6ez3y0 rgw6ez3rs"},1887:function(e,t,n){"use strict";n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return B})),n.d(t,"a",(function(){return H}));var r,i,c=n(4),a=n.n(c),o=n(16),s=n(8),d=n(3),l=n(5),u=n(2),b=n(580),f=n(311),g=n(1877),j=n(72),p=n(118),h=n(95),x=n(174),m=n(815),O=n(47),v=n(814),w=n(1),y=n(813),k=n(367),z=n(122),T=n(1868),C=n(1878),I=n(22),S=(n(310),n(810),n(1897),n(0)),N=function(){return Object(S.jsx)(j.b,{className:"_2kdvfw1 rgw6ez1aq rgw6ez1ip rgw6ez7zh"})},E=function(){return Object(S.jsx)(j.b,{className:"fbjar43 _2kdvfw1 rgw6ez1fs rgw6ez80p"})},_=function(){return Object(S.jsxs)(j.b,{as:"a",className:T.f,children:[Object(S.jsxs)(p.c,{gap:"16",children:[Object(S.jsx)(N,{}),Object(S.jsx)(E,{})]}),Object(S.jsx)(p.c,{children:Object(S.jsx)(E,{})}),Object(S.jsx)(p.c,{display:{sm:"none",md:"flex"},children:Object(S.jsx)(E,{})}),Object(S.jsx)(p.c,{display:{sm:"none",lg:"flex"},children:Object(S.jsx)(E,{})}),Object(S.jsx)(p.c,{display:{sm:"none",xl:"flex"},children:Object(S.jsx)(E,{})})]})},M=function(e){var t=e.rowCount;return Object(S.jsx)(S.Fragment,{children:Object(I.a)(Array(t)).map((function(e,t){return Object(S.jsx)(_,{},t)}))})},R=function(){return Object(S.jsxs)(p.b,{marginTop:"36",children:[Object(S.jsx)(F,{}),Object(S.jsx)(M,{rowCount:10})]})};!function(e){e.Item="Item",e.Event="Event",e.Price="Price",e.By="By",e.To="To"}(i||(i={}));var A=u.default.div.withConfig({componentId:"sc-164q6ku-0"})(["display:flex;background:",";",";"],(function(e){return e.backgroundColor}),b.a),F=function(){return Object(S.jsxs)(j.b,{className:T.i,children:[Object(S.jsx)(j.b,{children:i.Item}),Object(S.jsx)(j.b,{children:i.Event}),Object(S.jsx)(j.b,{display:{sm:"none",md:"block"},children:i.Price}),Object(S.jsx)(j.b,{display:{sm:"none",xl:"block"},children:i.By}),Object(S.jsx)(j.b,{display:{sm:"none",xxl:"block"},children:i.To})]})},P=(r={},Object(l.a)(r,O.a.Listing,!0),Object(l.a)(r,O.a.Sale,!0),Object(l.a)(r,O.a.Transfer,!1),Object(l.a)(r,O.a.CancelListing,!1),r),B=function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},t.eventType,!e[t.eventType]))},L=function(e){return"/#/nfts/asset/".concat(e.collectionAddress,"/").concat(e.tokenId,"?origin=activity")},H=function(e){var t,n=e.contractAddress,r=e.rarityVerified,i=e.collectionName,c=e.chainId,d=Object(f.b)(),l=Object(w.useReducer)(B,P),u=Object(s.a)(l,2),b=u[0],I=u[1],N=Object(k.useInfiniteQuery)(["collectionActivity",{contractAddress:n,activeFilters:b}],function(){var e=Object(o.a)(a.a.mark((function e(t){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pageParam,i=void 0===r?"":r,e.next=3,Object(m.a)(n,{eventTypes:Object.keys(b).filter((function(e){return b[e]})).map((function(e){return e}))},i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{getNextPageParam:function(e){var t;return 25===(null===(t=e.events)||void 0===t?void 0:t.length)?e.cursor:void 0},refetchInterval:15e3,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnMount:!1}),E=N.data,_=N.fetchNextPage,H=N.hasNextPage,D=N.isFetchingNextPage,W=N.isSuccess,q=N.isLoading,U=Object(g.a)({activityTypes:Object.keys(b).map((function(e){return e})).filter((function(e){return b[e]})),address:n},25),V=U.nftActivity,X=U.hasNext,G=U.loadMore,Y=U.loading,$={events:d?V:W?null===E||void 0===E?void 0:E.pages.map((function(e){return e.events})).flat():void 0,gatedHasNext:d?X:H,gatedLoadMore:d?G:_,gatedLoading:d?Y:q,gatedIsLoadingMore:d?X&&(null===V||void 0===V?void 0:V.length):D},J=$.events,K=$.gatedHasNext,Q=$.gatedLoadMore,Z=$.gatedLoading,ee=$.gatedIsLoadingMore,te=Object(x.e)((function(e){return e.itemsInBag})),ne=Object(x.e)((function(e){return e.addAssetsToBag})),re=Object(x.e)((function(e){return e.removeAssetsFromBag})),ie=Object(x.e)((function(e){return e.bagExpanded})),ce=Object(x.e)((function(e){return e.toggleBag})),ae=Object(x.i)(),oe=Object(w.useState)(0),se=Object(s.a)(oe,2),de=se[0],le=se[1],ue=Object(z.e)();Object(w.useEffect)((function(){Object(v.a)().then((function(e){le(e||0)}))}),[]);var be=Object(w.useCallback)((function(e){var t=e.eventType,n=b[t],r=ue?h.d.color.gray500:h.d.color.gray200;return Object(S.jsx)(A,{className:T.h,backgroundColor:n?r:h.c.colors.backgroundInteractive,onClick:function(){return I({eventType:t})},children:t.charAt(0)+t.slice(1).toLowerCase()+"s"})}),[b,ue]);return Object(S.jsxs)(j.b,{marginLeft:{sm:"16",md:"48"},children:[Object(S.jsxs)(p.c,{gap:"8",paddingTop:{sm:"0",md:"16"},children:[Object(S.jsx)(be,{eventType:O.a.Listing}),Object(S.jsx)(be,{eventType:O.a.Sale}),Object(S.jsx)(be,{eventType:O.a.Transfer})]}),Z?Object(S.jsx)(R,{}):J&&Object(S.jsxs)(p.b,{marginTop:"36",children:[Object(S.jsx)(F,{}),Object(S.jsx)(y.a,{next:Q,hasMore:!!K,loader:ee?Object(S.jsx)(M,{rowCount:2}):null,dataLength:null!==(t=null===J||void 0===J?void 0:J.length)&&void 0!==t?t:0,style:{overflow:"unset"},children:J.map((function(e,t){return e.eventType&&Object(S.jsxs)(j.b,{as:"a","data-testid":"nft-activity-row",href:L(e),className:T.f,children:[Object(S.jsx)(C.d,{event:e,rarityVerified:r,collectionName:i,eventTimestamp:e.eventTimestamp,isMobile:ae}),Object(S.jsx)(C.c,{eventType:e.eventType,eventTimestamp:e.eventTimestamp,eventTransactionHash:e.transactionHash,price:e.price,isMobile:ae}),Object(S.jsx)(C.f,{marketplace:e.marketplace,price:e.price}),Object(S.jsx)(C.a,{address:e.fromAddress,chainId:c}),Object(S.jsx)(C.a,{address:e.toAddress,chainId:c,desktopLBreakpoint:!0}),Object(S.jsx)(C.b,{event:e,collectionName:i,selectAsset:ne,removeAsset:re,itemsInBag:te,cartExpanded:ie,toggleCart:ce,isMobile:ae,ethPriceInUSD:de})]},t)}))})]})]})}},1889:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(279),i=n(72),c=(n(310),n(810),n(1901),n(116)),a=n(366),o=n(95),s=n(168),d=n(0),l=function(e){var t=e.onClick,n=e.isMobile,l=e.isFiltersExpanded,u=e.collectionCount,b=void 0===u?0:u,f=window.innerWidth>=o.a.sm&&window.innerWidth<o.a.md;return Object(d.jsxs)(i.b,{className:Object(r.default)("rgw6ez721 rgw6ez52p",!l&&"_1liwdzo1"),display:"flex",gap:"8",borderRadius:"12",fontSize:"16",cursor:"pointer",position:"relative",onClick:t,padding:"12",width:n?"44":"auto",height:"44",whiteSpace:"nowrap",color:"white","data-testid":"nft-filter",children:[Object(d.jsx)(c.C,{}),n?null:Object(d.jsxs)(i.b,{className:a.c,children:[" ",!b||f?"Filter":"Filter \u2022 ".concat(Object(s.E)(b)," result").concat(Object(s.D)(b))]})]})}},1896:function(e,t,n){},1897:function(e,t,n){},1898:function(e,t,n){},1899:function(e,t,n){},1900:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(2).default.button.withConfig({componentId:"sc-59jtrn-0"})(["color:",";padding-left:8px;padding-right:8px;font-size:14px;font-weight:600;border:none;cursor:pointer;background:none;"],(function(e){return e.theme.textTertiary}))},1901:function(e,t,n){},1902:function(e,t,n){},2018:function(e,t,n){},2019:function(e,t,n){},2020:function(e,t,n){},2021:function(e,t,n){},2072:function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionBannerLoading",(function(){return On})),n.d(t,"BannerWrapper",(function(){return zn}));var r,i=n(8),c=n(2),a=n(38),o=n(26),s=n(18),d=n(23),l=n(580),u=n(17),b=n(181),f=n(781),g=n(475),j=n(1905),p=n(72),h=n(118),x=n(366),m=n(174),O=n(1914),v=n(168),w=(n(310),n(581),n(0)),y=function(){var e=Object(m.e)((function(e){return e.itemsInBag})),t=Object(m.e)((function(e){return e.toggleBag})),n=Object(O.a)(),r=Object(O.b)(),i=e.length>0;return Object(w.jsxs)(h.c,{display:{sm:i?"flex":"none",md:"none"},className:"rgw6ez4wm rgw6ez3j8 rgw6ez3mx rgw6ez3tc rgw6ez5d7 rgw6ez39b rgw6ez4bm rgw6ez7zh rgw6ez4w8",children:[Object(w.jsxs)(h.c,{gap:"8",children:[Object(w.jsx)(p.b,{position:"relative",style:{width:"34px",height:"34px"},children:e.slice(0,3).map((function(e,t){return Object(w.jsx)(p.b,{as:"img",position:"absolute",src:e.asset.smallImageUrl,top:"1/2",left:"1/2",width:"26",height:"26",borderRadius:"4",style:{transform:0===t?"translate(-50%, -50%) rotate(-4.42deg)":1===t?"translate(-50%, -50%) rotate(-14.01deg)":"translate(-50%, -50%) rotate(10.24deg)",zIndex:t}},t)}))}),Object(w.jsxs)(h.b,{children:[Object(w.jsx)(p.b,{className:x.a,fontWeight:"semibold",children:Object(v.G)(e.length,"NFT")}),Object(w.jsxs)(h.c,{gap:"8",children:[Object(w.jsxs)(p.b,{className:x.a,children:["".concat(Object(v.p)(n.toString()))," ETH"]}),Object(w.jsx)(p.b,{color:"textSecondary",className:x.b,children:Object(v.h)(r,!0)})]})]})]}),Object(w.jsx)(p.b,{className:"rgw6ezen rgw6ezc4 rgw6ezft rgw6ez2r1 rgw6ez2xg rgw6ez32w rgw6ez2jn rgw6ez50d rgw6ez6yv rgw6ez7zp rgw6ez7y5",onClick:t,children:"View bag"})]})},k=n(1887),z=(n(810),n(2018),"_1wiwg131 rgw6ezen rgw6ezcb rgw6ezg0 rgw6ez4wt rgw6ez5gp rgw6ez875 rgw6ez7y5 rgw6ezi5 rgw6ez52v"),T="_1wiwg135 _1wiwg131 rgw6ezen rgw6ezcb rgw6ezg0 rgw6ez4wt rgw6ez5gp rgw6ez875 rgw6ez7y5 rgw6ezi5 rgw6ez52p",C=Object(c.default)(h.c).withConfig({componentId:"sc-dvc2od-0"})(["border-bottom:1px solid;border-color:",";margin-right:12px;"],(function(e){return e.theme.backgroundInteractive})),I=new Array(2).fill(null).map((function(e,t){return Object(w.jsx)("div",{className:"_1wiwg136 _2kdvfw3 _2kdvfw1 rgw6ez7zp rgw6ez7y1 rgw6ez54p"},"ActivitySwitcherLoading-key-".concat(t))})),S=function(e){var t=e.showActivity,n=e.toggleActivity,r=Object(m.h)((function(e){return e.isCollectionStatsLoading}));return Object(w.jsx)(C,{gap:"24",marginBottom:"16",children:r?I:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(p.b,{as:"button",className:t?z:T,onClick:function(){return t&&n()},children:"Items"}),Object(w.jsx)(a.TraceEvent,{events:[o.BrowserEvent.onClick],element:o.InterfaceElementName.NFT_ACTIVITY_TAB,name:o.NFTEventName.NFT_ACTIVITY_SELECTED,children:Object(w.jsx)(p.b,{as:"button",className:t?T:z,onClick:function(){return!t&&n()},"data-testid":"nft-activity",children:"Activity"})})]})})},N=n(22),E=n(34),_=n(64),M=n(279),R=n(153),A=n(29),F=n(832),P=n(239),B=n(3),L=n(7),H=n(836),D=n(833),W=n(1),q=function(e){var t,n=e.asset,r=e.isMobile,i=e.mediaShouldBePlaying,c=e.setCurrentTokenPlayingMedia,s=e.uniformAspectRatio,d=e.setUniformAspectRatio,l=e.renderedHeight,u=e.setRenderedHeight,b=Object(m.e)((function(e){return e.bagManuallyClosed})),f=Object(m.e)((function(e){return e.addAssetsToBag})),g=Object(m.e)((function(e){return e.removeAssetsFromBag})),j=Object(m.e)((function(e){return e.itemsInBag})),p=Object(m.e)((function(e){return e.bagExpanded})),h=Object(m.e)((function(e){return e.setBagExpanded})),x=Object(a.useTrace)({page:o.InterfacePageName.NFT_COLLECTION_PAGE}),O=Object(W.useMemo)((function(){return{isSelected:j.filter((function(e){return n.tokenId===e.asset.tokenId&&n.address===e.asset.address})).length>0}}),[n,j]).isSelected,y=n.notForSale||_.a.from(n.priceInfo?n.priceInfo.ETHPrice:0).lt(0),k=(null===n||void 0===n||null===(t=n.rarity)||void 0===t?void 0:t.providers)?n.rarity.providers[0]:void 0,z=Object(W.useCallback)((function(){var e,t;_.a.from(null!==(e=null===(t=n.priceInfo)||void 0===t?void 0:t.ETHPrice)&&void 0!==e?e:0).gt(0)&&(f([n]),p||r||b||h({bagExpanded:!0}),Object(a.sendAnalyticsEvent)(o.NFTEventName.NFT_BUY_ADDED,Object(B.a)({collection_address:n.address,token_id:n.tokenId,token_type:n.tokenType},x)))}),[f,n,p,b,r,h,x]),T=Object(W.useCallback)((function(){g([n])}),[n,g]),C=Object(W.useMemo)((function(){return{primaryInfo:n.name?n.name:"#".concat(n.tokenId),primaryInfoIcon:n.susFlag?Object(w.jsx)(D.c,{}):null,primaryInfoRight:n.rarity&&k?Object(w.jsx)(D.b,{provider:k}):null,secondaryInfo:y?"":"".concat(Object(v.p)(n.priceInfo.ETHPrice,!0)," ETH"),selectedInfo:Object(w.jsx)(L.b,{id:"Remove from bag"}),notSelectedInfo:Object(w.jsx)(L.b,{id:"Add to bag"}),disabledInfo:Object(w.jsx)(L.b,{id:"Not listed"})}}),[n.name,n.priceInfo.ETHPrice,n.rarity,n.susFlag,n.tokenId,y,k]);return Object(w.jsx)(H.a,{asset:n,display:C,isSelected:O,isDisabled:Boolean(n.notForSale),selectAsset:z,unselectAsset:T,mediaShouldBePlaying:i,uniformAspectRatio:s,setUniformAspectRatio:d,renderedHeight:l,setRenderedHeight:u,setCurrentTokenPlayingMedia:c,testId:"nft-collection-asset"})},U=n(1880),V=(n(2019),"_10b1b4v2"),X="rgw6ez4ry rgw6ez2x9 rgw6ez7y5 rgw6ezcb rgw6ezg0 rgw6ez4w8 rgw6ez3k rgw6ez2qg rgw6ez333 rgw6ez2ju",G="rgw6ez7z5 rgw6ez6op rgw6ez89h rgw6ez8a9 rgw6ez10t rgw6ezhk",Y="_10b1b4vb rgw6ez7yx rgw6ez6cv rgw6ez88p rgw6ez2p3 rgw6ez2jn",$="_10b1b4vc",J="_10b1b4ve rgw6ez52v rgw6ez4sc rgw6ez1gr rgw6ez18s rgw6ez8ct",K=n(116),Q=n(812),Z=n(5),ee=n(136),te=n.n(ee),ne=n(137);!function(e){e[e.MARKPLACE_INDEX=0]="MARKPLACE_INDEX",e[e.PRICE_RANGE_INDEX=1]="PRICE_RANGE_INDEX",e[e.TRAIT_START_INDEX=2]="TRAIT_START_INDEX"}(r||(r={}));var re=te()()(Object(ne.devtools)((function(e){return{traitsOpen:{},setTraitsOpen:function(t,n){e((function(e){var r=e.traitsOpen;return{traitsOpen:Object(B.a)(Object(B.a)({},r),{},Object(Z.a)({},t,n))}}))}}}),{name:"useTraitsOpen"})),ie=n(11),ce=n(1870),ae=Object(c.default)(h.c).withConfig({componentId:"sc-18lba6p-0"})(["justify-content:space-between;padding:10px 16px 10px 12px;cursor:pointer;border-radius:12px;&:hover{background:",";}"],(function(e){return e.theme.backgroundInteractive})),oe=c.default.img.withConfig({componentId:"sc-18lba6p-1"})(["height:16px;width:16px;border-radius:4px;"]),se=Object(c.default)(h.c).withConfig({componentId:"sc-18lba6p-2"})(["gap:10px;"]),de={x2y2:"X2Y2",opensea:"OpenSea",looksrare:"LooksRare",sudoswap:"SudoSwap",nftx:"NFTX",nft20:"NFT20",cryptopunks:"LarvaLabs"};function le(e){var t=Object.keys(de).find((function(t){return de[t]===e}));return"/nft/svgs/marketplaces/".concat(t,".svg")}var ue=function(e){var t=e.title,n=e.element,r=e.onClick;return Object(w.jsxs)(ae,{onClick:r,children:[Object(w.jsx)(ie.x.BodyPrimary,{children:t}),Object(w.jsx)(ie.x.SubHeaderSmall,{children:n})]})},be=function(e){var t=e.title,n=e.value,r=e.addMarket,c=e.removeMarket,s=e.isMarketSelected,d=e.count,l=Object(W.useState)(!1),u=Object(i.a)(l,2),b=u[0],f=u[1],g=Object(W.useReducer)((function(e){return!e}),!1),j=Object(i.a)(g,2),h=j[0],x=j[1];Object(W.useEffect)((function(){f(s)}),[s]);var m=function(e){e.preventDefault(),b?(c(n),f(!1)):(r(n),f(!0)),Object(a.sendAnalyticsEvent)(o.NFTEventName.NFT_FILTER_SELECTED,{filter_type:o.NFTFilterTypes.MARKETPLACE})},O=Object(w.jsx)(ce.a,{checked:b,hovered:h,onChange:m,children:Object(w.jsx)(p.b,{as:"span",color:"textSecondary",marginLeft:"4",paddingRight:"12",children:d})}),v=Object(w.jsxs)(se,{children:[Object(w.jsx)(oe,{src:le(t)}),t]});return Object(w.jsx)("div",{onMouseEnter:x,onMouseLeave:x,children:Object(w.jsx)(ue,{title:v,element:O,onClick:m})},n)},fe=function(e){var t=e.title,n=e.items,r=e.onClick,i=e.isOpen;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(p.b,{className:G,opacity:i?"1":"0"}),Object(w.jsxs)(p.b,{as:"details",className:Object(M.default)(x.i,!i&&V),open:i,borderRadius:i?"0":"12",children:[Object(w.jsxs)(p.b,{as:"summary",className:"".concat(X," ").concat(V),display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16",paddingTop:"12",paddingLeft:"12",paddingBottom:"12",lineHeight:"20",borderRadius:"12",maxHeight:"48",onClick:r,children:[t,Object(w.jsx)(p.b,{display:"flex",alignItems:"center",children:Object(w.jsx)(p.b,{className:J,style:{transform:"rotate(".concat(i?0:180,"deg)")},children:Object(w.jsx)(K.s,{className:$})})})]}),Object(w.jsx)(h.b,{className:Y,paddingBottom:"8",paddingLeft:"0",children:n})]})]})},ge=function(){var e=Object(Q.e)((function(e){return{markets:e.markets,marketCount:e.marketCount,removeMarket:e.removeMarket,addMarket:e.addMarket}})),t=e.addMarket,n=e.removeMarket,c=e.markets,a=e.marketCount,o=Object(W.useState)(!!c.length),s=Object(i.a)(o,2),d=s[0],l=s[1],u=re((function(e){return e.setTraitsOpen})),b=Object(W.useMemo)((function(){return Object.entries(de).map((function(e){var r=Object(i.a)(e,2),o=r[0],s=r[1];return Object(w.jsx)(be,{title:s,value:o,count:(null===a||void 0===a?void 0:a[o])||0,addMarket:t,removeMarket:n,isMarketSelected:c.includes(o)},o)}))}),[t,a,n,c]);return Object(w.jsx)(fe,{title:"Marketplaces",items:b,onClick:function(e){e.preventDefault(),l(!d),u(r.MARKPLACE_INDEX,!d)},isOpen:d})},je=function(e){var t=e.sortDropDownOptions,n=Object(W.useState)(!1),r=Object(i.a)(n,2),c=r[0],a=r[1],o=function(e){e.preventDefault(),a(!c)},s=t.map((function(e){return Object(w.jsx)(pe,{dropDownOption:e,parentOnClick:o},e.displayText)}));return Object(w.jsx)(fe,{title:"Sort by",items:s,onClick:o,isOpen:c})},pe=function(e){var t=e.dropDownOption,n=e.parentOnClick,r=Object(m.f)((function(e){return e.sortBy})),i=void 0!==t.sortBy&&r===t.sortBy?Object(w.jsx)(p.b,{as:"img",alt:t.displayText,width:"20",height:"20",objectFit:"cover",src:"/nft/svgs/checkmark.svg"}):Object(w.jsx)(w.Fragment,{});return Object(w.jsx)(ue,{title:t.displayText,element:i,onClick:function(e){e.preventDefault(),n(e),t.onClick()}})},he=n(237),xe=n(95),me=(n(2020),function(e){var t,n=e.dropDownOptions,r=e.inFilters,c=e.mini,a=e.miniPrompt,o=e.top,s=e.left,d=Object(m.f)((function(e){return e.sortBy})),l=Object(W.useReducer)((function(e){return!e}),!1),u=Object(i.a)(l,2),b=u[0],f=u[1],g=Object(W.useReducer)((function(e){return!e}),!1),j=Object(i.a)(g,2),O=j[0],v=j[1],y=Object(W.useState)(d),k=Object(i.a)(y,2),z=k[0],T=k[1],C=Object(m.h)((function(e){return e.isCollectionStatsLoading})),I=Object(W.useState)(0),S=Object(i.a)(I,2),N=S[0],E=S[1];Object(W.useEffect)((function(){T(d)}),[d]);var _=Object(W.useRef)(null);Object(he.a)(_,(function(){return b&&f()})),Object(W.useEffect)((function(){return E(0)}),[n]);var R=Object(W.useMemo)((function(){return n[z].reverseOnClick||n[z].reverseIndex}),[z,n]),A=C?220:r?"full":c?"min":N||"300px";return Object(w.jsxs)(p.b,{ref:_,borderRadius:"12",borderBottomLeftRadius:b?"0":void 0,borderBottomRightRadius:b?"0":void 0,style:{width:A},children:[Object(w.jsx)(p.b,{as:"button",fontSize:"14",borderRadius:"12",borderStyle:b&&!c?"solid":"none",background:c?"none":"backgroundInteractive",borderColor:"backgroundOutline",borderWidth:"1px",borderBottomLeftRadius:b?"0":void 0,borderBottomRightRadius:b?"0":void 0,padding:r?"12":c?"0":"8",color:"textPrimary",whiteSpace:"nowrap",display:"flex",justifyContent:"space-between",alignItems:"center",width:r?"full":"inherit",onClick:f,cursor:"pointer",className:C?"_12q7kth3 _2kdvfw3 _2kdvfw1 rgw6ez7zp rgw6ez7y1 rgw6ez54p rgw6ez1hq":Object(M.default)(b&&!c&&"_12q7kth0"),children:!C&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(p.b,{display:"flex",alignItems:"center",color:"textPrimary",children:[!b&&R&&Object(w.jsxs)(h.c,{onClick:function(e){if(e.stopPropagation(),n[z].reverseOnClick){var t,r;null===(t=(r=n[z]).reverseOnClick)||void 0===t||t.call(r),v()}else{var i,c=null!==(i=n[z].reverseIndex)&&void 0!==i?i:1;n[c-1].onClick(),T(c-1)}},children:[n[z].reverseOnClick&&(O?Object(w.jsx)(K.g,{}):Object(w.jsx)(K.U,{})),n[z].reverseIndex&&(z>(null!==(t=n[z].reverseIndex)&&void 0!==t?t:1)-1?Object(w.jsx)(K.g,{}):Object(w.jsx)(K.U,{}))]}),Object(w.jsx)(p.b,{marginLeft:R?"4":"0",marginRight:c?"2":"0",color:"textPrimary",className:x.c,children:c?a:b?"Sort by":n[z].displayText})]}),Object(w.jsx)(K.s,{secondaryColor:c?xe.c.colors.textPrimary:void 0,secondaryWidth:c?"20":void 0,secondaryHeight:c?"20":void 0,style:{transform:b?"":"rotate(180deg)"}})]})}),Object(w.jsx)(p.b,{position:"absolute",zIndex:"3",width:r?"auto":"inherit",right:r?"16":"auto",paddingBottom:"8",fontSize:"14",background:"backgroundModule",borderStyle:"solid",borderColor:"backgroundOutline",borderWidth:"1px",borderRadius:"8",borderTopLeftRadius:c?void 0:"0",borderTopRightRadius:c?void 0:"0",overflowY:"hidden",transition:"250",display:b||!N?"block":"none",visibility:N?"visible":"hidden",marginTop:c?"12":"0",className:Object(M.default)(!c&&"_12q7kth1"),style:{top:o?"".concat(o,"px"):"inherit",left:r?"16px":s?"".concat(s,"px"):"inherit"},children:N?b&&n.map((function(e,t){return Object(w.jsx)(Oe,{option:e,index:t,mini:c,onClick:function(){n[t].onClick(),T(t),f(),O&&v()}},t)})):[n.reduce((function(e,t){return t.displayText.length>=e.displayText.length?t:e}),n[0])].map((function(e,t){return Object(w.jsx)(ve,{option:e,index:t,setMaxWidth:E},t)}))})]})}),Oe=function(e){var t=e.option,n=e.index,r=e.onClick,i=e.mini;return Object(w.jsx)(p.b,{as:"button",border:"none",display:"flex",alignItems:"center",paddingTop:"10",paddingBottom:"10",paddingLeft:"12",paddingRight:i?"20":"0",width:"full",background:{default:"backgroundModule",hover:"backgroundInteractive"},color:"textPrimary",onClick:r,cursor:"pointer",children:Object(w.jsx)(p.b,{marginLeft:"8",className:x.c,children:t.displayText})},n)},ve=function(e){var t=e.option,n=e.index,r=e.setMaxWidth,i=Object(W.useRef)(null);return Object(W.useLayoutEffect)((function(){i&&i.current&&r(Math.ceil(i.current.getBoundingClientRect().width)+52)})),Object(w.jsx)(p.b,{position:"absolute",ref:i,children:Object(w.jsx)(Oe,{option:t,index:n})},n)},we=n(719),ye=n(820),ke=te()()(Object(ne.devtools)((function(e){return{priceRangeLow:"",setPriceRangeLow:function(t){e((function(){return{priceRangeLow:t}}))},priceRangeHigh:"",setPriceRangeHigh:function(t){e((function(){return{priceRangeHigh:t}}))},prevMinMax:[0,100],setPrevMinMax:function(t){e((function(){return{prevMinMax:t}}))}}}),{name:"usePriceRange"})),ze=n(47),Te="undefined"!==typeof window;var Ce=function(){var e,t=!!Te&&window.innerWidth<xe.a.sm?"nft-anchor-mobile":"nft-anchor";null===(e=window.document.getElementById(t))||void 0===e||e.scrollIntoView({behavior:"smooth"})},Ie=n(758),Se=n.n(Ie),Ne=function(e){var t=Object(B.a)({},e);for(var n in t){var r=t[n],i=m.d[n];JSON.stringify(r)===JSON.stringify(i)&&delete t[n]}t.all!==m.d.buyNow&&delete t.all;var c=m.b[m.d.sortBy];return t.sort===c&&delete t.sort,t},Ee=function(e,t){var n=Object(B.a)({},e);["traits","markets"].forEach((function(e){n[e]||(n[e]=[]),n[e]&&"string"===typeof n[e]&&(n[e]=[n[e]])}));try{var r=m.d.buyNow,c=m.d.search;if(Object.entries(m.b).forEach((function(e){var t=Object(i.a)(e,2),r=t[0];t[1]===n.sort&&(n.sortBy=Number(r))})),n.buyNow=!(void 0===n.all?!r:n.all),n.search=void 0===n.search?c:String(n.search),2===n.traits.length){var a=n.traits,o=Object(i.a)(a,2),s=o[0],d=o[1];"".concat(s).concat(d).includes(",")||s.startsWith("(")&&!s.endsWith(")")&&d.endsWith(")")&&!d.startsWith("(")&&(n.traits=["".concat(s,",").concat(d)])}n.traits=n.traits.map((function(e){var n=function(e){return e.substring(1,e.length-1)}(e.replace(/(")/g,"")),r=n.split(","),c=Object(i.a)(r,2),a=c[0],o=c[1],s=t.traits&&t.traits[a].find((function(e){return e.trait_value===o}));return null!==s&&void 0!==s?s:{trait_type:a,trait_value:o,trait_count:0}}))}catch(l){n.traits=[]}return n},_e=n(813),Me=n(102),Re=n(785),Ae=n(1900),Fe=(n(1915),n(131)),Pe=n(1925),Be=c.default.div.withConfig({componentId:"sc-13hme8d-0"})(["display:flex;gap:60px;margin-top:12px;padding:16px;border-radius:12px;background-color:",";justify-content:space-between;background:linear-gradient(",",",") padding-box,linear-gradient(to right,#4673fa,#9646fa) border-box;border:2px solid transparent;"],(function(e){return e.theme.backgroundSurface}),(function(e){return e.theme.backgroundSurface}),(function(e){return e.theme.backgroundSurface})),Le=Object(c.default)(Pe.a).withConfig({componentId:"sc-13hme8d-1"})(["cursor:pointer;@media only screen and (max-width:","){display:none;}"],(function(e){var t=e.theme;return"".concat(t.breakpoint.md,"px")})),He=c.default.div.withConfig({componentId:"sc-13hme8d-2"})(["display:flex;width:100%;gap:24px;"]),De=c.default.div.withConfig({componentId:"sc-13hme8d-3"})(["display:flex;flex-shrink:0;justify-content:flex-end;align-items:center;gap:8px;min-width:160px;@media only screen and (max-width:","){display:none;}"],(function(e){var t=e.theme;return"".concat(t.breakpoint.md,"px")})),We=c.default.div.withConfig({componentId:"sc-13hme8d-4"})(["@media only screen and (max-width:","){display:none;}"],(function(e){var t=e.theme;return"".concat(t.breakpoint.md,"px")})),qe=c.default.div.withConfig({componentId:"sc-13hme8d-5"})(["display:flex;width:100%;gap:12px;align-items:center;"]),Ue=c.default.input.withConfig({componentId:"sc-13hme8d-6"})(["width:96px;color:",";border:1px solid ",";background:none;border-radius:8px;padding:6px 8px;font-size:16px;font-weight:400px;line-height:20px;@media only screen and (max-width:","){width:100%;}:hover,:focus{outline:none;border:1px solid ",";}"],(function(e){return e.theme.textPrimary}),(function(e){return e.theme.backgroundOutline}),(function(e){var t=e.theme;return"".concat(t.breakpoint.md,"px")}),(function(e){return e.theme.accentAction})),Ve=c.default.div.withConfig({componentId:"sc-13hme8d-7"})(["display:flex;border:1px solid ",";background:none;border-radius:12px;padding:4px;cursor:pointer;"],(function(e){return e.theme.backgroundOutline})),Xe=c.default.div.withConfig({componentId:"sc-13hme8d-8"})(["color:",";padding:4px 8px;border-radius:8px;background-color:",";font-size:14px;font-weight:600;line-height:16px;"],(function(e){var t=e.theme;return e.active?t.textPrimary:t.textSecondary}),(function(e){var t=e.theme;return e.active?t.backgroundInteractive:"none"})),Ge=c.default.div.withConfig({componentId:"sc-13hme8d-9"})(["position:relative;width:34px;height:34px;"]),Ye=c.default.div.withConfig({componentId:"sc-13hme8d-10"})(["position:absolute;top:50%;left:50%;width:26px;height:26px;border-radius:4px;background:",";background-size:26px;opacity:",";transform:",";z-index:",";"],(function(e){var t=e.theme,n=e.src;return n?"url(".concat(n,")"):t.textTertiary}),(function(e){var t=e.src,n=e.index;return t?1:0===n?.9:1===n?.6:.3}),(function(e){var t=e.index;return 0===t?"translate(-50%, -50%) rotate(-4.42deg)":1===t?"translate(-50%, -50%) rotate(-14.01deg)":"translate(-50%, -50%) rotate(10.24deg)"}),(function(e){return 3-e.index})),$e=RegExp("^(0|[1-9][0-9]*)$"),Je=RegExp("^\\d*\\.?\\d{0,2}$"),Ke=function(e){var t=e.nfts;return Object(w.jsx)(Ge,{children:Object(N.a)(Array(3)).map((function(e,n){return Object(w.jsx)(Ye,{index:n,src:t.length-1>=n?t[t.length-1-n].smallImageUrl:void 0},n)}))})},Qe=function(e){var t,n=e.contractAddress,r=e.minPrice,a=e.maxPrice,o=Object(c.useTheme)(),s=Object(W.useReducer)((function(e){return!e}),!0),d=Object(i.a)(s,2),l=d[0],u=d[1],b=Object(W.useState)(""),f=Object(i.a)(b,2),g=f[0],j=f[1],p=Object(m.e)((function(e){return e.addAssetsToBag})),h=Object(m.e)((function(e){return e.removeAssetsFromBag})),x=Object(m.e)((function(e){return e.itemsInBag})),O=Object(m.e)((function(e){return e.lockSweepItems})),y=Object(m.e)((function(e){return e.setBagExpanded})),k=Object(m.f)((function(e){return e.traits})),z=Object(m.f)((function(e){return e.markets})),T=et(n,"others",r,a),C=et(n,ze.g.Sudoswap,r,a),I=et(n,ze.g.NFTX,r,a),S=et(n,ze.g.NFT20,r,a),E=Object(F.c)(T).data,M=Object(F.c)(C).data,R=Object(F.c)(I).data,A=Object(F.c)(S).data,P=Object(W.useMemo)((function(){var e,t,n,r;if(!E&&!M&&!R&&!A)return{sortedAssets:void 0,sortedAssetsTotalEth:_.a.from(0)};var i=0,c=0,a=[];M&&(a=[].concat(Object(N.a)(a),Object(N.a)(M))),R&&(a=[].concat(Object(N.a)(a),Object(N.a)(R))),A&&(a=[].concat(Object(N.a)(a),Object(N.a)(A)));var o=a.filter((function(e){return e.marketplace===ze.g.Sudoswap&&!e.susFlag}));a.forEach((function(e){if(!e.susFlag)if(e.marketplace===ze.g.Sudoswap){var t=Object(v.d)(e,o.filter((function(t){return Object(v.A)(e,t)})).findIndex((function(t){return t.tokenId===e.tokenId})));e.priceInfo.ETHPrice=null!==t&&void 0!==t?t:"0"}else{var n=e.marketplace===ze.g.NFTX,r=Object(v.d)(e,n?i:c);_.a.from(r).gt(0)&&(n?i++:c++),e.priceInfo.ETHPrice=r}})),(a=E?E.concat(a):a).sort((function(e,t){return _.a.from(e.priceInfo.ETHPrice).gt(_.a.from(t.priceInfo.ETHPrice))?1:-1}));var s=a.filter((function(e){return _.a.from(e.priceInfo.ETHPrice).gt(0)&&!e.susFlag}));return{sortedAssets:s=s.slice(0,Math.max(null!==(e=null===E||void 0===E?void 0:E.length)&&void 0!==e?e:0,null!==(t=null===M||void 0===M?void 0:M.length)&&void 0!==t?t:0,null!==(n=null===R||void 0===R?void 0:R.length)&&void 0!==n?n:0,null!==(r=null===A||void 0===A?void 0:A.length)&&void 0!==r?r:0)),sortedAssetsTotalEth:s.reduce((function(e,t){return e.add(_.a.from(t.priceInfo.ETHPrice))}),_.a.from(0))}}),[E,M,R,A]),B=P.sortedAssets,L=P.sortedAssetsTotalEth,H=Object(W.useMemo)((function(){var e=x.filter((function(e){return e.inSweep&&e.asset.address===n})).map((function(e){return e.asset})),t=e.reduce((function(e,t){return e.add(_.a.from(t.priceInfo.ETHPrice))}),_.a.from(0));return{sweepItemsInBag:e,sweepEthPrice:t}}),[x,n]),D=H.sweepItemsInBag,q=H.sweepEthPrice;Object(W.useEffect)((function(){0===D.length&&j("")}),[D]),Object(W.useEffect)((function(){O(n)}),[n,k,z,r,a,O]);var U=function(e){if(B)if(l)0===D.length&&e>0&&y({bagExpanded:!0}),D.length<e?p(B.slice(D.length,e),!0):h(D.slice(e,D.length),!0),j(e<1?"":e.toString());else{var t=Object(Fe.parseEther)(e.toString());if(q.lte(t)){for(var n=D.length,r=q,i=[];n<B.length&&r.add(_.a.from(B[n].priceInfo.ETHPrice)).lte(t);)i.push(B[n]),r=r.add(_.a.from(B[n].priceInfo.ETHPrice)),n++;i.length>0&&(0===D.length&&y({bagExpanded:!0}),p(i,!0))}else{for(var c=D.length-1,a=q,o=[];c>=0&&a.gt(t);)o.push(D[c]),a=a.sub(_.a.from(D[c].priceInfo.ETHPrice)),c--;o.length>0&&h(o,!0)}j(0===e?"":e.toFixed(2))}};return Object(w.jsxs)(Be,{"data-testid":"nft-sweep-slider",children:[Object(w.jsxs)(He,{children:[Object(w.jsx)(We,{children:Object(w.jsx)(ie.x.SubHeader,{color:"textPrimary",lineHeight:"20px",paddingTop:"6px",paddingBottom:"6px",children:"Sweep"})}),Object(w.jsxs)(qe,{children:[Object(w.jsx)(Le,{defaultValue:0,min:0,max:l?null!==(t=null===B||void 0===B?void 0:B.length)&&void 0!==t?t:0:parseFloat(Object(Fe.formatEther)(L).toString()),value:l?D.length:parseFloat(Object(v.p)(q.toString())),step:l?1:.01,trackStyle:{top:"3px",height:"8px",background:"radial-gradient(101.8% 4091.31% at 0% 0%, #4673FA 0%, #9646FA 100%)"},handleStyle:{top:"3px",width:"12px",height:"20px",backgroundColor:"#4673FA",borderRadius:"4px",border:"none",opacity:"1",boxShadow:"".concat(o.shallowShadow.slice(0,-1))},railStyle:{top:"3px",height:"8px",backgroundColor:"".concat(o.backgroundInteractive)},onChange:function(e){"number"===typeof e&&B&&(l?(Math.floor(e)!==Math.floor(""!==g?parseFloat(g):0)&&U(Math.floor(e)),j(e<1?"":e.toString())):(U(e),j(0===e?"":e.toFixed(2))))}}),Object(w.jsx)(Ue,{inputMode:"decimal",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:"0",minLength:1,maxLength:79,spellCheck:"false",value:l&&""!==g?Math.floor(parseFloat(g)):g,onChange:function(e){var t;""===(t=e.target.value.replace(/,/g,"."))?(U(0),j("")):(l&&$e.test(t)||!l&&Je.test(t))&&(U(parseFloat(t)),j(t))}}),Object(w.jsxs)(Ve,{onClick:function(){j(""),h(D),u()},children:[Object(w.jsx)(Xe,{active:l,children:"Items"}),Object(w.jsx)(Xe,{active:!l,children:"ETH"})]})]})]}),Object(w.jsxs)(De,{children:[Object(w.jsx)(ie.x.SubHeader,{"font-size":"14px",children:"".concat(Object(v.p)(q.toString())," ETH")}),Object(w.jsx)(Ke,{nfts:D})]})]})},Ze=[ze.g.Opensea,ze.g.X2Y2,ze.g.LooksRare];function et(e,t,n,r){var i=Object(m.f)((function(e){return e.traits})),c=Object(m.f)((function(e){return e.markets})),a=!!c.length;return Object(W.useMemo)((function(){if(a){if("others"===t){var o=c.filter((function(e){return!Object(ze.n)(e)}));return o.length>0?{contractAddress:e,traits:i,markets:o}:{contractAddress:"",traits:[],markets:[]}}if(!c.includes(t))return{contractAddress:"",traits:[],markets:[]}}switch(t){case ze.g.Sudoswap:case ze.g.NFTX:case ze.g.NFT20:return{contractAddress:e,traits:i,markets:[t],price:{low:n,high:r,symbol:"ETH"}};case"others":return{contractAddress:e,traits:i,markets:Ze,price:{low:n,high:r,symbol:"ETH"}}}}),[e,a,t,c,r,n,i])}var tt,nt,rt,it=c.default.div.withConfig({componentId:"sc-1xxa3op-0"})(["display:flex;justify-content:space-between;align-items:center;padding:6px 6px 6px 12px;font-weight:600;border-radius:8px;background-color:",";font-size:14px;"],(function(e){return e.theme.backgroundInteractive})),ct=c.default.div.withConfig({componentId:"sc-1xxa3op-1"})(["color:",";height:28px;width:28px;border:none;padding-top:1px;"],(function(e){return e.theme.textSecondary})),at=function(e){var t=e.onClick,n=e.value;return Object(w.jsxs)(it,{children:[Object(w.jsx)("span",{children:n}),Object(w.jsx)(ct,{onClick:t,children:Object(w.jsx)(K.x,{cursor:"pointer"})})]})},ot=new Map,st=Object(c.css)(tt||(tt=Object(E.a)(["\n  margin: 0 16px;\n  @media screen and (min-width: ","px) {\n    margin: 0 20px;\n  }\n  @media screen and (min-width: ","px) {\n    margin: 0 26px;\n  }\n  @media screen and (min-width: ","px) {\n    margin: 0 48px;\n  }\n"])),(function(e){return e.theme.breakpoint.sm}),(function(e){return e.theme.breakpoint.md}),(function(e){return e.theme.breakpoint.lg})),dt=c.default.div.withConfig({componentId:"sc-1wq7ulh-0"})(["display:flex;flex:1 1 auto;gap:10px;justify-content:space-between;",""],st),lt=c.default.div.withConfig({componentId:"sc-1wq7ulh-1"})(["display:flex;gap:12px;flex:1;min-width:0px;@media only screen and (max-width:","){gap:10px;}"],(function(e){var t=e.theme;return"".concat(t.breakpoint.md,"px")})),ut=c.default.div.withConfig({componentId:"sc-1wq7ulh-2"})(["width:max-content;height:44px;@media only screen and (max-width:","){","}@media only screen and (max-width:","){display:none;}"],(function(e){var t=e.theme;return"".concat(t.breakpoint.lg,"px")}),(function(e){return e.isFiltersExpanded&&"display: none;"}),(function(e){var t=e.theme;return"".concat(t.breakpoint.md,"px")})),bt=c.default.div.withConfig({componentId:"sc-1wq7ulh-3"})(["display:block;text-align:center;"]),ft=c.default.span.withConfig({componentId:"sc-1wq7ulh-4"})(["",""],l.a),gt=c.default.div.withConfig({componentId:"sc-1wq7ulh-5"})(["",""],st),jt=c.default.div.withConfig({componentId:"sc-1wq7ulh-6"})(["display:flex;gap:8px;border:none;border-radius:12px;padding:12px 18px 12px 12px;cursor:",";color:",";background:",";opacity:",";:hover{background-color:",";transition:",";}@media only screen and (max-width:","){padding:12px 12px 12px 12px;}"],(function(e){return e.disabled?"auto":"pointer"}),(function(e){var t=e.toggled,n=e.disabled,r=e.theme;return t&&!n?r.accentTextLightPrimary:r.textPrimary}),(function(e){var t=e.theme,n=e.toggled;return!e.disabled&&n?"radial-gradient(101.8% 4091.31% at 0% 0%, #4673FA 0%, #9646FA 100%)":t.backgroundInteractive}),(function(e){return e.disabled?.4:1}),(function(e){return e.theme.hoverState}),(function(e){var t=e.theme.transition,n=t.duration,r=t.timing;return"".concat(n.fast," background-color ").concat(r.in)}),(function(e){var t=e.theme;return"".concat(t.breakpoint.md,"px")})),pt=Object(c.default)(ie.x.BodyPrimary).withConfig({componentId:"sc-1wq7ulh-7"})(["@media only screen and (max-width:","){display:none;}"],(function(e){var t=e.theme;return"".concat(t.breakpoint.md,"px")})),ht=Object(c.default)(h.c).withConfig({componentId:"sc-1wq7ulh-8"})(["gap:8px;"]),xt=function(e){var t=e.height;return Object(w.jsx)(p.b,{width:"full",className:U.a,children:Object(w.jsx)(Re.a,{height:t})})},mt=function(){return Object(w.jsx)(gt,{children:Object(w.jsxs)(h.b,{alignItems:"flex-start",position:"relative",width:"full",children:[Object(w.jsxs)(h.c,{marginY:"12",gap:"12",marginBottom:"40",children:[Object(w.jsx)(p.b,{className:we.a,borderRadius:"12",width:{sm:"44",md:"100"},height:"44"}),Object(w.jsx)(p.b,{className:we.a,borderRadius:"12",height:"44",display:{sm:"none",md:"flex"},style:{width:"220px"}}),Object(w.jsx)(p.b,{className:we.a,borderRadius:"12",height:"44",width:{sm:"276",md:"332"}})]}),Object(w.jsx)(xt,{})]})})},Ot=function(e,t){var n=[{displayText:"Price: Low to High",onClick:function(){return e(m.a.LowToHigh)},reverseIndex:2,sortBy:m.a.LowToHigh},{displayText:"Price: High to Low",onClick:function(){return e(m.a.HighToLow)},reverseIndex:1,sortBy:m.a.HighToLow}];return t?n.concat([{displayText:"Rarity: Rare to Common",onClick:function(){return e(m.a.RareToCommon)},reverseIndex:4,sortBy:m.a.RareToCommon},{displayText:"Rarity: Common to Rare",onClick:function(){return e(m.a.CommonToRare)},reverseIndex:3,sortBy:m.a.CommonToRare}]):n},vt=function(e){var t,n,r,c,d=e.contractAddress,l=e.collectionStats,u=e.rarityVerified,b=Object(s.useWeb3React)().chainId,f=Object(m.f)((function(e){return e.traits})),j=Object(m.f)((function(e){return e.minPrice})),O=Object(m.f)((function(e){return e.maxPrice})),y=Object(m.f)((function(e){return e.markets})),k=Object(m.f)((function(e){return e.sortBy})),z=Object(m.f)((function(e){return e.search})),T=Object(m.f)((function(e){return e.setMarketCount})),C=Object(m.f)((function(e){return e.setSortBy})),I=Object(m.f)((function(e){return e.buyNow})),S=ke((function(e){return e.setPriceRangeLow})),E=ke((function(e){return e.priceRangeLow})),B=ke((function(e){return e.priceRangeHigh})),L=ke((function(e){return e.setPriceRangeHigh})),H=ke((function(e){return e.setPrevMinMax})),D=Object(ye.a)((function(e){return e.setIsCollectionNftsLoading})),V=Object(m.f)((function(e){return e.removeTrait})),X=Object(m.f)((function(e){return e.removeMarket})),G=Object(m.f)((function(e){return e.reset})),Y=Object(m.f)((function(e){return e.setMinPrice})),$=Object(m.f)((function(e){return e.setMaxPrice})),J=Object(m.f)((function(e){return e.setHasRarity})),Q=Object(m.e)((function(e){return e.toggleBag})),Z=Object(m.e)((function(e){return e.bagExpanded})),ee=Object(m.e)((function(e){return e.itemsInBag})),te=Object(P.a)(j,500),ne=Object(P.a)(O,500),re=Object(P.a)(z,500),ie=Object(W.useState)(ze.m.unset),ce=Object(i.a)(ie,2),ae=ce[0],se=ce[1],le=Object(W.useState)(),ue=Object(i.a)(le,2),be=ue[0],fe=ue[1],ge=Object(W.useState)(!1),je=Object(i.a)(ge,2),pe=je[0],he=je[1],xe={address:d,orderBy:m.c[k].field,asc:m.c[k].asc,filter:{listed:I,marketplaces:y.length>0?y.map((function(e){return e.toUpperCase()})):void 0,maxPrice:ne?Object(R.parseEther)(ne).toString():void 0,minPrice:te?Object(R.parseEther)(te).toString():void 0,tokenSearchQuery:re,traits:f.length>0?f.map((function(e){return{name:e.trait_type,values:[e.trait_value]}})):void 0},first:F.a},Oe=Object(F.b)(xe),ve=Oe.data,we=Oe.loading,Te=Oe.hasNext,Ie=Oe.loadMore,Fe=Object(W.useCallback)((function(e){var t=ee.some((function(t){return e.tokenId===t.asset.tokenId&&e.address===t.asset.address}));if(e.marketplace===ze.g.Sudoswap){var n=ee.filter((function(t){return Object(v.A)(e,t.asset)}));return t?n.findIndex((function(t){return t.asset.tokenId===e.tokenId})):n.length}return t?ee.filter((function(t){return Object(v.z)(e,t.asset)})).findIndex((function(t){return t.asset.tokenId===e.tokenId})):ee.filter((function(t){return Object(v.z)(e,t.asset)})).length}),[ee]),Pe=Object(W.useCallback)((function(e){return Object(v.d)(e,Fe(e))}),[Fe]),Be=Object(W.useMemo)((function(){if(!ve||!ve.some((function(e){return e.marketplace&&Object(ze.n)(e.marketplace)})))return ve;var e=Object(N.a)(ve);return e.forEach((function(e){var t;return e.marketplace&&Object(ze.n)(e.marketplace)&&(e.priceInfo.ETHPrice=null!==(t=Pe(e))&&void 0!==t?t:"0")})),k!==m.a.HighToLow&&k!==m.a.LowToHigh||e.sort((function(e,t){var n,r,i,c,a=_.a.from(null!==(n=null===(r=e.priceInfo)||void 0===r?void 0:r.ETHPrice)&&void 0!==n?n:0),o=_.a.from(null!==(i=null===(c=t.priceInfo)||void 0===c?void 0:c.ETHPrice)&&void 0!==i?i:0);if(a.gt(0)&&o.lte(0))return-1;if(o.gt(0)&&a.lte(0))return 1;var s=a.sub(o);return s.gt(0)?k===m.a.LowToHigh?1:-1:s.lt(0)?k===m.a.LowToHigh?-1:1:0})),e}),[ve,k,Pe]),Le=Object(W.useState)(),He=Object(i.a)(Le,2),De=He[0],We=He[1],qe=Object(m.g)(),Ue=Object(i.a)(qe,2),Ve=Ue[0],Xe=Ue[1],Ge=Object(W.useRef)(null),Ye=Object(m.i)(),$e=Object(g.a)();Object(W.useEffect)((function(){D(we)}),[we,D]);var Je=Object(W.useMemo)((function(){var e,t=null!==(e=Object(v.v)(ot,null===l||void 0===l?void 0:l.address,Be))&&void 0!==e&&e;return J(t),t}),[l.address,Be,J]),Ke=Object(W.useMemo)((function(){return Ot(C,Je)}),[Je,C]);Object(W.useEffect)((function(){return he(!1),function(){m.f.setState(m.d)}}),[d]);var Ze=Object(W.useMemo)((function(){return Be?Be.map((function(e){return Object(w.jsx)(q,{asset:e,isMobile:Ye,mediaShouldBePlaying:e.tokenId===De,setCurrentTokenPlayingMedia:We,rarityVerified:u,uniformAspectRatio:ae,setUniformAspectRatio:se,renderedHeight:be,setRenderedHeight:fe},e.address+e.tokenId)})):null}),[Be,Ye,De,u,ae,be]),et=Be&&Be.length>0,tt=et&&Be[0]&&(null===(t=Be[0])||void 0===t?void 0:t.tokenType)===A.f.Erc1155,nt=Object(W.useMemo)((function(){return te&&ne?"Price: ".concat(te," - ").concat(ne," ETH"):te?"Min. Price: ".concat(te," ETH"):ne?"Max Price: ".concat(ne," ETH"):void 0}),[te,ne]);Object(W.useEffect)((function(){var e,t={};null===l||void 0===l||null===(e=l.marketplaceCount)||void 0===e||e.forEach((function(e){var n=e.marketplace,r=e.count;t[n]=r})),T(t),Ge.current=m.f.getState()}),[null===l||void 0===l?void 0:l.marketplaceCount,T]);var rt=Object(Me.f)();Object(W.useEffect)((function(){if(null===l||void 0===l?void 0:l.traits){var e=function(e,t){if(e.search){var n=Se.a.parse(e.search,{arrayFormat:"comma",parseNumbers:!0,parseBooleans:!0});return Ee(n,t)}}(rt,l);requestAnimationFrame((function(){e&&m.f.setState(e)})),m.f.subscribe((function(e){JSON.stringify(Ge.current)!==JSON.stringify(e)&&(!function(e){var t={};["markets","maxPrice","maxRarity","minPrice","minRarity","traits","all","search","sort"].forEach((function(n){switch(n){case"traits":var r=e.traits.map((function(e){var t=e.trait_type,n=e.trait_value;return'("'.concat(t,'","').concat(n,'")')}));t.traits=r;break;case"all":t.all=!e.buyNow;break;case"sort":t.sort=m.b[e.sortBy];break;default:t[n]=e[n]}}));var n=Ne(t),r=window.location.href.split("?")[0],i=Se.a.stringify(n,{arrayFormat:"comma"});window.history.replaceState({},"","".concat(r).concat(i&&"?".concat(i)))}(e),Ge.current=e)}))}}),[rt]),Object(W.useEffect)((function(){se(ze.m.unset),fe(void 0)}),[d]),Object(W.useEffect)((function(){var e;if(l&&(null===(e=l.stats)||void 0===e?void 0:e.floor_price)){var t,n,r=null===(t=l.stats)||void 0===t?void 0:t.floor_price,i=10*(null===(n=l.stats)||void 0===n?void 0:n.floor_price);""===E&&S(null===r||void 0===r?void 0:r.toFixed(2)),""===B&&L(i.toFixed(2))}}),[l,E,B,L,S]);var it=Object(W.useCallback)((function(){tt||(pe||(Ce(),Z||Ye||Q()),he(!pe))}),[Z,tt,Ye,pe,Q]),ct=Object(W.useCallback)((function(){G(),H([0,100]),Ce()}),[G,H]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(p.a,{backgroundColor:"backgroundBackdrop",position:"sticky",top:"72",width:"full",zIndex:"3",marginBottom:{sm:"8",md:"20"},paddingTop:"16",paddingBottom:"16",children:[Object(w.jsxs)(dt,{children:[Object(w.jsxs)(lt,{children:[Object(w.jsx)(a.TraceEvent,{events:[o.BrowserEvent.onClick],element:o.InterfaceElementName.NFT_FILTER_BUTTON,name:o.NFTEventName.NFT_FILTER_OPENED,shouldLogImpression:!Ve,properties:{collection_address:d,chain_id:b},children:Object(w.jsx)($t.a,{isMobile:Ye,isFiltersExpanded:Ve,collectionCount:null!==(n=null===Be||void 0===Be||null===(r=Be[0])||void 0===r?void 0:r.totalCount)&&void 0!==n?n:0,onClick:function(){Z&&!$e.xl&&Q(),Xe(!Ve)}})}),Object(w.jsx)(ut,{isFiltersExpanded:Ve,children:Object(w.jsx)(me,{dropDownOptions:Ke})}),Object(w.jsx)(wt,{})]}),!tt&&Object(w.jsxs)(jt,{toggled:pe,disabled:tt,className:x.c,onClick:it,"data-testid":"nft-sweep-button",children:[Object(w.jsx)(K.ab,{viewBox:"0 0 24 24",width:"20px",height:"20px"}),Object(w.jsx)(pt,{fontWeight:600,color:"currentColor",lineHeight:"20px",children:"Sweep"})]})]}),Object(w.jsxs)(gt,{children:[pe&&Object(w.jsx)(Qe,{contractAddress:d,minPrice:te,maxPrice:ne}),Object(w.jsxs)(h.c,{paddingTop:y.length||f.length||nt?"12":"0",gap:"8",flexWrap:"wrap",children:[y.map((function(e){return Object(w.jsx)(at,{value:Object(w.jsxs)(ht,{children:[Object(w.jsx)(oe,{src:"/nft/svgs/marketplaces/".concat(e.toLowerCase(),".svg")}),de[e]]}),onClick:function(){Ce(),X(e)}},e)})),f.map((function(e){return Object(w.jsx)(at,{value:"Number of traits"===e.trait_type?"".concat(e.trait_value," trait").concat(Object(v.D)(Number(e.trait_value))):"".concat(e.trait_type,": ").concat(e.trait_value),onClick:function(){Ce(),V(e)}},e.trait_value)})),nt&&Object(w.jsx)(at,{value:nt,onClick:function(){Ce(),Y(""),$(""),H([0,100])}}),Boolean(f.length||y.length||nt)&&Object(w.jsx)(Ae.a,{onClick:ct,children:"Clear All"})]})]})]}),Object(w.jsx)(gt,{children:we?Object(w.jsx)(xt,{height:be}):Object(w.jsx)(_e.a,{next:Ie,hasMore:null!==Te&&void 0!==Te&&Te,loader:Boolean(Te&&et)&&Object(w.jsx)(Re.a,{}),dataLength:null!==(c=null===Be||void 0===Be?void 0:Be.length)&&void 0!==c?c:0,style:{overflow:"unset"},className:et?U.a:void 0,children:et?Ze:Object(w.jsx)(h.a,{width:"full",color:"textSecondary",textAlign:"center",style:{height:"60vh"},children:Object(w.jsxs)(bt,{children:[Object(w.jsx)("p",{className:x.e,children:"No NFTS found"}),Object(w.jsx)(p.b,{onClick:G,type:"button",className:Object(M.default)(x.b,x.c),color:"accentAction",cursor:"pointer",children:Object(w.jsx)(ft,{children:"View full collection"})})]})})})})]})},wt=function(){var e=Object(Q.e)((function(e){return e.setSearch})),t=Object(Q.e)((function(e){return e.search})),n=Object(m.h)((function(e){return e.isCollectionStatsLoading}));return Object(w.jsx)(p.b,{as:"input",flex:"1",borderColor:{default:"backgroundOutline",focus:"accentAction"},borderWidth:"1.5px",borderStyle:"solid",borderRadius:"12",padding:"12",backgroundColor:"backgroundSurface",maxWidth:"332",minWidth:"0",fontSize:"16",height:"44",color:{placeholder:"textTertiary",default:"textPrimary"},value:t,placeholder:n?"":"Search by name",className:Object(M.default)(n&&"_2kdvfw3 _2kdvfw1 rgw6ez7zp rgw6ez7y1 rgw6ez54p rgw6ez875"),onChange:function(t){e(t.currentTarget.value)}})},yt=n(83),kt=n(227),zt=n(816),Tt=n(1906),Ct=n.n(Tt),It=(n(2021),"jinxmn1 rgw6ez11e rgw6ez13k rgw6ezh6 rgw6ezjq"),St="jinxmn3 rgw6ez3l6 rgw6ez7yh rgw6ez88d rgw6ez5pd rgw6ez80p rgw6ez4wf rgw6ez70p",Nt="_2kdvfw1 jinxmn3 rgw6ez3l6 rgw6ez7yh rgw6ez88d rgw6ez5pd rgw6ez80p rgw6ez4wf jinxmnf",Et=["stats","isMobile"],_t=c.default.div.withConfig({componentId:"sc-1o7m3gg-0"})(["color:",";display:flex;align-items:center;justify-content:center;"],(function(e){var t=e.theme;return e.isNegative?t.accentFailure:t.accentSuccess})),Mt=c.default.div.withConfig({componentId:"sc-1o7m3gg-1"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:",";"],(function(e){return e.isVerified?"12px":"0px"})),Rt=c.default.div.withConfig({componentId:"sc-1o7m3gg-2"})([""," height:32px;width:236px;"],we.a),At=c.default.div.withConfig({componentId:"sc-1o7m3gg-3"})(["display:flex;margin-left:4px;flex-direction:column;justify-content:center;height:28px;"]),Ft=function(e){var t=e.children,n=e.href;return Object(w.jsx)(p.b,{display:"flex",as:"a",target:"_blank",rel:"noreferrer",href:n,height:"40",width:"40",borderRadius:"round",backgroundColor:"backgroundSurface",children:t})},Pt=function(e){var t=e.collectionStats,n=e.collectionSocialsIsOpen,r=e.toggleCollectionSocials;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(At,{onClick:r,children:n?Object(w.jsx)(K.ib,{width:"28",height:"28",fill:xe.c.colors.textSecondary}):Object(w.jsx)(K.A,{width:"28",height:"20",fill:xe.c.colors.textSecondary})}),n&&Object(w.jsxs)(h.c,{position:"absolute",gap:"4",alignItems:"center",justifyContent:"center",style:{top:"-48px",right:"-6px"},children:[t.discordUrl?Object(w.jsx)(Ft,{href:t.discordUrl,children:Object(w.jsx)(p.b,{margin:"auto",paddingTop:"4",children:Object(w.jsx)(K.y,{width:28,height:28,color:xe.c.colors.textSecondary})})}):null,t.twitterUrl?Object(w.jsx)(Ft,{href:"https://twitter.com/"+t.twitterUrl,children:Object(w.jsx)(p.b,{margin:"auto",paddingTop:"6",children:Object(w.jsx)(K.db,{fill:xe.c.colors.textSecondary,color:xe.c.colors.textSecondary,width:"28px",height:"28px"})})}):null,t.instagram?Object(w.jsx)(Ft,{href:"https://instagram.com/"+t.instagram,children:Object(w.jsx)(p.b,{margin:"auto",paddingLeft:"2",paddingTop:"4",children:Object(w.jsx)(K.G,{fill:xe.c.colors.textSecondary,width:"28px",height:"28px"})})}):null,t.externalUrl?Object(w.jsx)(Ft,{href:t.externalUrl,children:Object(w.jsx)(p.b,{margin:"auto",paddingTop:"4",children:Object(w.jsx)(K.B,{fill:xe.c.colors.textSecondary,width:"28px",height:"28px"})})}):null]})]})},Bt=function(e){var t=e.children,n=e.href;return Object(w.jsx)(h.b,{as:"a",target:"_blank",rel:"noreferrer",href:n,height:"full",justifyContent:"center",children:t})},Lt=function(e){var t,n,r=e.collectionStats,i=e.name,c=e.isVerified,a=e.isMobile,o=e.collectionSocialsIsOpen,s=e.toggleCollectionSocials,d=Object(ye.a)((function(e){return e.isCollectionStatsLoading}));return Object(w.jsxs)(h.c,{justifyContent:"space-between",children:[Object(w.jsxs)(h.c,{minWidth:"0",children:[d?Object(w.jsx)(Rt,{}):Object(w.jsx)(Mt,{isVerified:c,className:a?x.f:x.e,children:i}),c&&Object(w.jsx)(K.gb,{style:{width:"32px",height:"32px"}}),Object(w.jsxs)(h.c,{display:{sm:"none",md:"flex"},alignItems:"center",justifyContent:"center",marginLeft:"32",gap:"8",height:"32",children:[r.discordUrl?Object(w.jsx)(Bt,{href:null!==(t=r.discordUrl)&&void 0!==t?t:"",children:Object(w.jsx)(K.y,{fill:xe.c.colors.textSecondary,color:xe.c.colors.textSecondary,width:"26px",height:"26px"})}):null,r.twitterUrl?Object(w.jsx)(Bt,{href:"https://twitter.com/"+r.twitterUrl,children:Object(w.jsx)(K.db,{fill:xe.c.colors.textSecondary,color:xe.c.colors.textSecondary,width:"26px",height:"26px"})}):null,r.instagram?Object(w.jsx)(Bt,{href:"https://instagram.com/"+r.instagram,children:Object(w.jsx)(K.G,{fill:xe.c.colors.textSecondary,width:"26px",height:"26px"})}):null,r.externalUrl?Object(w.jsx)(Bt,{href:null!==(n=r.externalUrl)&&void 0!==n?n:"",children:Object(w.jsx)(K.B,{fill:xe.c.colors.textSecondary,width:"26px",height:"26px"})}):null]})]}),a&&(r.discordUrl||r.twitterUrl||r.instagram||r.externalUrl)&&Object(w.jsx)(Pt,{collectionStats:r,collectionSocialsIsOpen:o,toggleCollectionSocials:s})]})},Ht=c.default.div.withConfig({componentId:"sc-1o7m3gg-4"})(["vertical-align:top;text-overflow:ellipsis;"," a[href]{color:",";text-decoration:none;:hover{opacity:",";}:focus{opacity:",";}}"],(function(e){return e.readMore?Object(c.css)(nt||(nt=Object(E.a)(["\n          white-space: normal;\n          overflow: visible;\n          display: inline;\n          max-width: 100%;\n        "]))):Object(c.css)(rt||(rt=Object(E.a)(["\n          white-space: nowrap;\n          overflow: hidden;\n          display: inline-block;\n          max-width: min(calc(100% - 112px), 600px);\n        "])))}),(function(e){return e.theme.textSecondary}),(function(e){return e.theme.opacity.hover}),(function(e){return e.theme.opacity.click})),Dt=c.default.span.withConfig({componentId:"sc-1o7m3gg-5"})(["vertical-align:top;color:",";cursor:pointer;margin-left:4px;"],(function(e){return e.theme.textSecondary})),Wt=function(){return Object(w.jsx)(p.b,{marginTop:{sm:"12",md:"16"},className:"jinxmnc _2kdvfw3 _2kdvfw1 rgw6ez7zp rgw6ez7y1 rgw6ez54p rgw6ez1g6"})},qt=function(e){var t=e.description,n=Object(W.useState)(!1),r=Object(i.a)(n,2),c=r[0],a=r[1],o=Object(W.useReducer)((function(e){return!e}),!1),s=Object(i.a)(o,2),d=s[0],l=s[1],u=Object(W.useRef)(null),b=Object(W.useRef)(null),f=Object(ye.a)((function(e){return e.isCollectionStatsLoading})),g=Object(m.i)();return Object(W.useEffect)((function(){var e;u&&b&&u.current&&b.current&&(b.current.getBoundingClientRect().width>=(null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect().width)-112||b.current.getBoundingClientRect().width>=590)?a(!0):a(!1)}),[b,u,f,t]),f?Object(w.jsx)(Wt,{}):Object(w.jsxs)(p.b,{ref:u,marginTop:{sm:"12",md:"16"},style:{maxWidth:"680px"},children:[Object(w.jsx)(Ht,{readMore:d,ref:b,className:g?x.b:x.a,children:Object(w.jsx)(Ct.a,{source:t,allowedTypes:["link","paragraph","strong","code","emphasis","text"],renderers:{paragraph:"span"}})}),c&&Object(w.jsxs)(Dt,{className:g?x.b:x.a,onClick:l,children:["show ",d?"less":"more"]})]})},Ut=function(e){var t=e.children,n=e.label,r=e.shouldHide;return Object(w.jsxs)(p.b,{display:r?"none":"flex",flexDirection:"column",alignItems:"baseline",gap:"2",height:"min",children:[Object(w.jsx)(ie.x.SubHeader,{className:"jinxmn6 rgw6ezen rgw6ezci rgw6ezge",children:t}),Object(w.jsx)(p.b,{as:"span",className:"jinxmn5 rgw6ezeg rgw6ezc4 rgw6ezfm rgw6ez52v rgw6ez4sx",children:n})]})},Vt=function(e){return new Array(e?3:5).fill(null).map((function(t,n){return Object(w.jsxs)(p.b,{display:"flex",flexDirection:"column",alignItems:"baseline",gap:"2",height:"min",marginBottom:e?"12":"0",children:[Object(w.jsx)("div",{className:"_2kdvfw3 _2kdvfw1 rgw6ez7zp rgw6ez7y1 rgw6ez54p rgw6ez1aq rgw6ez1fs"}),Object(w.jsx)("span",{className:"_2kdvfw3 _2kdvfw1 rgw6ez7zp rgw6ez7y1 rgw6ez54p rgw6ez1aq rgw6ez1g6 rgw6ez11e"})]},"statsLoadingSkeleton-key-".concat(n))}))},Xt=function(e){var t,n,r,i,c,a,o,s,d,l,u,b,f,j,p,x,O=e.stats,v=e.isMobile,y=Object(yt.a)(e,Et),k=(null===O||void 0===O||null===(t=O.stats)||void 0===t?void 0:t.total_supply)?Object(zt.d)((null!==(n=O.stats.num_owners)&&void 0!==n?n:0)/O.stats.total_supply*100):0,z=O.stats?Object(zt.c)(null!==(r=O.stats.total_supply)&&void 0!==r?r:0):0,T=(null===O||void 0===O||null===(i=O.stats)||void 0===i?void 0:i.total_supply)?Object(zt.d)((null!==(c=O.stats.total_listings)&&void 0!==c?c:0)/O.stats.total_supply*100):0,C=Object(ye.a)((function(e){return e.isCollectionStatsLoading})),I=Object(zt.e)(null!==(a=Number(null===(o=O.stats)||void 0===o?void 0:o.total_volume))&&void 0!==a?a:0),S=Object(zt.a)(null!==(s=null===(d=O.stats)||void 0===d?void 0:d.floor_price)&&void 0!==s?s:0),N=Math.round(Math.abs(null!==(l=null===O||void 0===O||null===(u=O.stats)||void 0===u?void 0:u.one_day_floor_change)&&void 0!==l?l:0)),E=(null===O||void 0===O||null===(b=O.stats)||void 0===b?void 0:b.one_day_floor_change)?Object(kt.f)(O.stats.one_day_floor_change):void 0,_=Object(m.e)((function(e){return e.bagExpanded})),M=Object(g.a)(),R=v||!M.lg&&_;return Object(w.jsx)(h.c,Object(B.a)(Object(B.a)({gap:{sm:"24",md:"36",lg:"48",xl:"60"}},y),{},{children:C?Vt(null!==v&&void 0!==v&&v):Object(w.jsxs)(w.Fragment,{children:[(null===(f=O.stats)||void 0===f?void 0:f.floor_price)?Object(w.jsxs)(Ut,{label:"Global floor",shouldHide:!1,children:[S," ETH"]}):null,void 0!==(null===(j=O.stats)||void 0===j?void 0:j.one_day_floor_change)?Object(w.jsx)(Ut,{label:"Floor 24H",shouldHide:!1,children:Object(w.jsxs)(_t,{isNegative:O.stats.one_day_floor_change<0,children:[E,N,"%"]})}):null,(null===(p=O.stats)||void 0===p?void 0:p.total_volume)?Object(w.jsxs)(Ut,{label:"Total volume",shouldHide:!1,children:[I," ETH"]}):null,z?Object(w.jsx)(Ut,{label:"Items",shouldHide:null!==v&&void 0!==v&&v,children:z}):null,k&&O.standard!==ze.k.ERC1155?Object(w.jsxs)(Ut,{label:"Unique owners",shouldHide:null!==R&&void 0!==R&&R,children:[k,"%"]}):null,(null===(x=O.stats)||void 0===x?void 0:x.total_listings)&&O.standard!==ze.k.ERC1155?Object(w.jsxs)(Ut,{label:"Listed",shouldHide:null!==R&&void 0!==R&&R,children:[T,"%"]}):null]})}))},Gt=function(e){var t=e.isMobile;return Object(w.jsxs)(h.b,{position:"relative",width:"full",children:[Object(w.jsx)(p.b,{className:St}),Object(w.jsx)(p.b,{className:Nt}),Object(w.jsxs)(p.b,{className:It,children:[Object(w.jsx)(p.b,{className:"jinxmni _2kdvfw3 _2kdvfw1 rgw6ez7zp rgw6ez7y1 rgw6ez54p rgw6ez1gy"}),!t&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Wt,{}),Object(w.jsx)(h.c,{gap:"60",marginTop:"20",children:Vt(!1)})]})]}),t&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Wt,{}),Object(w.jsx)(h.c,{gap:"20",marginTop:"20",children:Vt(!0)})]})]})},Yt=function(e){var t,n,r,c,a=e.stats,o=e.isMobile,s=Object(W.useReducer)((function(e){return!e}),!1),d=Object(i.a)(s,2),l=d[0],u=d[1],b=Object(ye.a)((function(e){return e.isCollectionStatsLoading}));return Object(w.jsxs)(p.b,{display:"flex",marginTop:o&&!a.bannerImageUrl?l?"52":"20":"0",justifyContent:"center",position:"relative",flexDirection:"column",width:"full",children:[b&&Object(w.jsx)(p.b,{as:"div",borderRadius:"round",position:"absolute",className:St}),Object(w.jsx)(p.b,{as:b?"div":"img",background:"explicitWhite",borderRadius:"round",position:"absolute",className:b?Nt:"jinxmn3 rgw6ez3l6 rgw6ez7yh rgw6ez88d rgw6ez5pd rgw6ez80p rgw6ez4wf",src:a.isFoundation&&!a.imageUrl?"/nft/svgs/marketplaces/foundation.svg":a.imageUrl}),Object(w.jsxs)(p.b,{className:It,children:[Object(w.jsx)(Lt,{collectionStats:a,name:null!==(t=a.name)&&void 0!==t?t:"",isVerified:null!==(n=a.isVerified)&&void 0!==n&&n,isMobile:o,collectionSocialsIsOpen:l,toggleCollectionSocials:u}),(a.description||b)&&!o&&Object(w.jsx)(qt,{description:null!==(r=a.description)&&void 0!==r?r:""}),Object(w.jsx)(Xt,{display:{sm:"none",md:"flex"},overflow:"hidden",stats:a,marginTop:"20"})]}),(a.description||b)&&o&&Object(w.jsx)(qt,{description:null!==(c=a.description)&&void 0!==c?c:""}),Object(w.jsx)("div",{id:"nft-anchor-mobile"}),Object(w.jsx)(Xt,{isMobile:!0,display:{sm:"flex",md:"none"},stats:a,marginTop:"20",marginBottom:"12"})]})},$t=n(1889),Jt=n(1871),Kt=n(53),Qt="rgw6eze9 rgw6ezcb rgw6ezg7 rgw6ez73p rgw6ez39p rgw6ez7zp rgw6ez7yh rgw6ez881",Zt=c.default.div.withConfig({componentId:"sc-1rzjfp9-0"})(["padding:",";"],(function(e){return e.isMobile?"0px 16px 0px 12px":"0px"})),en=function(e){var t=e.children,n=e.index,c=e.title,a=Object(W.useState)(!1),o=Object(i.a)(a,2),s=o[0],d=o[1],l=re((function(e){return e.traitsOpen})),u=re((function(e){return e.setTraitsOpen})),b=Object(m.i)(),f=void 0!==n&&l[n-1],g=n!==r.TRAIT_START_INDEX;return Object(W.useEffect)((function(){void 0!==n&&u(n,s)}),[s,n,u]),Object(w.jsxs)(w.Fragment,{children:[g&&Object(w.jsx)(p.b,{className:Object(M.default)(x.i,!s&&V,G),opacity:!f&&s&&0!==n?"1":"0",marginTop:f?"0":"8"}),Object(w.jsxs)(p.b,{as:"details",className:Object(M.default)(x.i,!s&&V),open:s,children:[Object(w.jsxs)(p.b,{as:"summary",className:"".concat(X," ").concat(V),onClick:function(e){e.preventDefault(),d(!s)},children:[c,Object(w.jsxs)(p.b,{display:"flex",alignItems:"center",children:[Object(w.jsx)(p.b,{color:"textTertiary",display:"inline-block",marginRight:"12",children:e.numTraits}),Object(w.jsx)(p.b,{className:J,style:{transform:"rotate(".concat(s?0:180,"deg)")},children:Object(w.jsx)(K.s,{className:$})})]})]}),Object(w.jsx)(Zt,{isMobile:b,children:t})]})]})},tn=Object(c.default)(Pe.a).withConfig({componentId:"sc-k3rcww-0"})(["cursor:pointer;"]),nn=function(){var e=Object(W.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],d=Object(Q.e)((function(e){return e.setMinPrice})),l=Object(Q.e)((function(e){return e.setMaxPrice})),u=Object(Q.e)((function(e){return e.minPrice})),b=Object(Q.e)((function(e){return e.maxPrice})),f=ke((function(e){return e.priceRangeLow})),g=ke((function(e){return e.priceRangeHigh})),j=ke((function(e){return e.setPriceRangeLow})),m=ke((function(e){return e.setPriceRangeHigh})),O=ke((function(e){return e.prevMinMax})),v=ke((function(e){return e.setPrevMinMax})),y=Object(c.useTheme)(),k=Object(Me.f)();Object(W.useEffect)((function(){d(""),l(""),j(""),m("")}),[k.pathname,d,l,j,m]);var z=function(e){s(e.currentTarget.placeholder),e.currentTarget.placeholder=""},T=function(e){e.currentTarget.placeholder=n,s(""),(u||b)&&Object(a.sendAnalyticsEvent)(o.NFTEventName.NFT_FILTER_SELECTED,{filter_type:o.NFTFilterTypes.PRICE_RANGE})};return Object(w.jsxs)(en,{title:"Price range",index:r.PRICE_RANGE_INDEX,children:[Object(w.jsxs)(h.c,{marginTop:"12",color:"textPrimary",justifyContent:"space-between",children:[Object(w.jsx)(h.c,{position:"relative",children:Object(w.jsx)(Jt.b,{style:{width:"126px"},className:Qt,placeholder:f,onChange:function(e){var t=Object(i.a)(O,2)[1];if(e.currentTarget.value){var n=parseInt(e.currentTarget.value)-parseInt(f),r=Math.floor(n/(parseInt(g)-parseInt(f))*100);parseInt(e.currentTarget.value)>=parseInt(b)?v([t,t]):v([r,t])}else v([0,t]);d(e.currentTarget.value.toString()),Ce()},onFocus:z,value:u,onBlur:T})}),Object(w.jsx)(p.b,{className:x.a,children:"to"}),Object(w.jsx)(h.c,{position:"relative",children:Object(w.jsx)(Jt.b,{style:{width:"126px"},className:Qt,placeholder:g,value:b,onChange:function(e){var t=Object(i.a)(O,1)[0];if(e.currentTarget.value){var n=parseInt(g)-parseInt(e.currentTarget.value),r=Math.floor(100-n/(parseInt(g)-parseInt(f))*100);parseInt(e.currentTarget.value)<=parseInt(u)?v([t,t]):v([t,r])}else v([t,100]);l(e.currentTarget.value),Ce()},onFocus:z,onBlur:T})})]}),Object(w.jsx)(h.c,{marginTop:"24",marginBottom:"12",paddingLeft:"8",paddingRight:"8",children:Object(w.jsx)(tn,{defaultValue:[0,100],min:0,max:100,range:!0,step:1e-4,value:O,trackStyle:{top:"3px",height:"8px",background:"".concat(y.accentAction)},handleStyle:{top:"3px",width:"12px",height:"20px",opacity:"1",backgroundColor:"white",borderRadius:"4px",border:"none",boxShadow:Kt.b.shallowShadow.slice(0,-1)},railStyle:{top:"3px",height:"8px",backgroundColor:"".concat(y.accentActionSoft)},onChange:function(e){if("number"!==typeof e){var t=Object(i.a)(e,2),n=t[0],r=t[1],c=parseFloat(g.replace(/,/g,"")),a=parseFloat(f.replace(/,/g,"")),o=c-a,s=c-(100-r)/100*o;d((n/100*o+a).toFixed(2).toString()),l(s.toFixed(2).toString()),0===n&&d(""),100===r&&l(""),v(e)}}})})]})},rn=n(191),cn=n(303),an=n(531),on=n(446),sn=function(e){var t=e.trait,n=e.addTrait,r=e.removeTrait,c=e.isTraitSelected,s=e.style,d=Object(W.useState)(!1),l=Object(i.a)(d,2),u=l[0],b=l[1],f=Object(W.useState)(!1),g=Object(i.a)(f,2),j=g[0],m=g[1],O=function(){return m(!j)},v=Object(Q.e)((function(e){return e.toggleShowFullTraitName})),y=Object(Q.e)((function(e){return e.showFullTraitName})),k=y.shouldShow,z=y.trait_value,T=y.trait_type;Object(W.useEffect)((function(){b(c)}),[c]);var C=function(e){e.preventDefault(),Ce(),u?(r(t),b(!1)):(n(t),b(!0)),Object(a.sendAnalyticsEvent)(o.NFTEventName.NFT_FILTER_SELECTED,{filter_type:o.NFTFilterTypes.TRAIT})},I=k&&T===t.trait_type&&z===t.trait_value;return Object(w.jsxs)(h.c,{maxWidth:"full",overflowX:"hidden",overflowY:"hidden",fontWeight:"normal",className:"".concat(x.i," ").concat("_10b1b4v5"),justifyContent:"space-between",cursor:"pointer",paddingLeft:"12",paddingRight:"16",borderRadius:"12",style:Object(B.a)({paddingBottom:"22px",paddingTop:"22px"},s),maxHeight:"44",onMouseEnter:O,onMouseLeave:O,onClick:C,children:[Object(w.jsx)(p.b,{as:"span",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",style:{minHeight:15},maxWidth:I?"full":"160",onMouseOver:function(e){return function(e){e.currentTarget.offsetWidth<e.currentTarget.scrollWidth&&v({shouldShow:!0,trait_value:t.trait_value,trait_type:t.trait_type})}(e)},onMouseLeave:function(){return v({shouldShow:!1,trait_type:"",trait_value:""})},children:"Number of traits"===t.trait_type?"".concat(t.trait_value," trait").concat(Object(cn.a)(Number(t.trait_value))):t.trait_value}),Object(w.jsx)(ce.a,{checked:u,hovered:j,onChange:C,children:Object(w.jsx)(p.b,{as:"span",color:"textTertiary",minWidth:"8",paddingTop:"2",paddingRight:"12",position:"relative",children:!I&&t.trait_count})})]},t.trait_value)},dn=function(e){var t=e.traits,n=e.type,r=e.index,c=Object(Q.e)((function(e){return e.addTrait})),a=Object(Q.e)((function(e){return e.removeTrait})),o=Object(Q.e)((function(e){return e.traits})),s=Object(W.useState)(""),d=Object(i.a)(s,2),l=d[0],u=d[1],b=Object(P.a)(l,300),f=Object(W.useMemo)((function(){return t.filter((function(e){var t;return null===(t=e.trait_value)||void 0===t?void 0:t.toString().toLowerCase().includes(b.toLowerCase())}))}),[b,t]),g=Object(W.useCallback)((function(e){var t=e.data,n=e.index,r=e.style,i=t[n],s=o.find((function(e){var t=e.trait_type,n=e.trait_value;return t===i.trait_type&&String(n)===String(i.trait_value)}));return Object(w.jsx)(sn,{style:r,isTraitSelected:!!s,trait:i,addTrait:c,removeTrait:a})}),[o,c,a]),j=Object(W.useCallback)((function(e,t){var n=t[e];return"".concat(n.trait_type,"_").concat(n.trait_value,"_").concat(e)}),[]);return t.length?Object(w.jsxs)(en,{index:r,numTraits:t.length,title:n,children:[Object(w.jsx)(Jt.a,{value:l,onChange:function(e){return u(e.currentTarget.value)},placeholder:"Search",marginTop:"8",marginBottom:"8",autoComplete:"off",position:"static",width:"full"}),Object(w.jsx)(h.b,{className:Y,style:{height:"".concat(Math.min(44*f.length,302),"px")},children:Object(w.jsx)(an.a,{disableWidth:!0,children:function(e){var t=e.height;return Object(w.jsx)(on.a,{height:t,width:"100%",itemData:f,itemCount:f.length,itemSize:44,itemKey:j,children:function(e){var t=e.index,n=e.style,r=e.data;return Object(w.jsx)(g,{style:n,data:r,index:t},j(t,r))}})}})})]}):null},ln=function(e){var t=e.traitsByGroup,n=Object(m.f)((function(e){return{buyNow:e.buyNow,setBuyNow:e.setBuyNow}})),c=n.buyNow,a=n.setBuyNow,o=Object(m.f)((function(e){return e.setSortBy})),s=Object(m.f)((function(e){return e.hasRarity})),d=Object(W.useReducer)((function(e){return!e}),!1),l=Object(i.a)(d,2),u=l[0],b=l[1],f=function(){a(!c)},g=Object(W.useMemo)((function(){return Ot(o,null!==s&&void 0!==s&&s)}),[s,o]);return Object(w.jsxs)(p.b,{className:"_10b1b4v1 rgw6ez8ap rgw6ez1m0 rgw6ez32i rgw6ezok rgw6ezqx",children:[Object(w.jsx)(h.c,{width:"full",justifyContent:"space-between"}),Object(w.jsxs)(h.b,{marginTop:"8",children:[Object(w.jsxs)(h.c,{justifyContent:"space-between",className:"".concat(X," ").concat(V),gap:"2",borderRadius:"12",paddingTop:"12",paddingBottom:"12",paddingLeft:"12",onClick:function(e){e.preventDefault(),f()},onMouseEnter:b,onMouseLeave:b,children:[Object(w.jsx)(p.b,{"data-testid":"nft-collection-filter-buy-now",className:x.h,children:"Buy now"}),Object(w.jsx)(ce.a,{hovered:u,checked:c,onClick:f,children:Object(w.jsx)("span",{})})]}),rn.b&&Object(w.jsx)(je,{sortDropDownOptions:g}),Object(w.jsx)(ge,{}),Object(w.jsx)(nn,{}),Object.entries(t).length>0&&Object(w.jsx)(p.b,{as:"span",color:"textSecondary",paddingLeft:"8",marginTop:"12",marginBottom:"12",className:"rgw6ez7z5 rgw6ez6op rgw6ez89h"}),Object(w.jsx)(h.b,{children:Object.entries(t).map((function(e,t){var n=Object(i.a)(e,2),c=n[0],a=n[1];return Object(w.jsx)(dn,{type:c,traits:a,index:t+r.TRAIT_START_INDEX},c)}))})]})]})},un=n(1872),bn=Object(c.default)(d.d).withConfig({componentId:"sc-133mkjw-0"})(["",""],un.a),fn=Object(c.default)(d.d).withConfig({componentId:"sc-133mkjw-1"})(["width:",";align-self:start;@media only screen and (min-width:","){width:",";}"],(function(e){return e.isBagExpanded?"calc(100% - ".concat(j.BAG_WIDTH+16,"px)"):"100%"}),(function(e){var t=e.theme;return"".concat(t.breakpoint.xxxl,"px")}),(function(e){return e.isBagExpanded?"calc(100% - ".concat(j.XXXL_BAG_WIDTH+16,"px)"):"100%"})),gn=Object(c.default)(u.e).withConfig({componentId:"sc-133mkjw-2"})(["gap:24px;margin-bottom:28px;"]),jn=function(){var e=Object(m.e)((function(e){return e.bagExpanded})),t=Object(m.i)();return Object(w.jsxs)(fn,{isBagExpanded:e,children:[Object(w.jsx)(zn,{children:Object(w.jsx)(On,{})}),Object(w.jsxs)(bn,{children:[Object(w.jsx)(Gt,{isMobile:t}),Object(w.jsx)(gn,{children:I})]}),Object(w.jsx)(mt,{})]})},pn=n(225),hn=n(154),xn=n(135),mn={},On=Object(c.default)(b.a).withConfig({componentId:"sc-vlvksq-0"})(["width:100%;height:100%;border-radius:0px;@media screen and (min-width:","px){border-radius:16px;}"],(function(e){return e.theme.breakpoint.sm})),vn=Object(c.default)(d.d).withConfig({componentId:"sc-vlvksq-1"})(["width:100%;align-self:start;will-change:width;"]),wn=Object(pn.animated)(vn),yn=c.default.div.withConfig({componentId:"sc-vlvksq-2"})(["position:",";"],(function(e){return e.hideUnderneath?"fixed":"static"})),kn=Object(pn.animated)(yn),zn=c.default.div.withConfig({componentId:"sc-vlvksq-3"})(["height:100px;max-width:100%;@media screen and (min-width:","px){margin-top:16px;margin-left:20px;margin-right:20px;height:288px;}"],(function(e){return e.theme.breakpoint.sm})),Tn=c.default.div.withConfig({componentId:"sc-vlvksq-4"})(["height:100%;width:100%;background-image:url(",");background-position-y:center;background-size:cover;@media screen and (min-width:","px){border-radius:16px;}"],(function(e){return e.src}),(function(e){return e.theme.breakpoint.sm})),Cn=Object(c.default)(d.d).withConfig({componentId:"sc-vlvksq-5"})(["",""],un.a),In=c.default.div.withConfig({componentId:"sc-vlvksq-6"})(["position:",";top:0px;left:0px;width:",";height:",";background:",";z-index:",";overflow-y:",";@media screen and (min-width:","px){top:72px;}"],(function(e){return e.isMobile?"fixed":"sticky"}),(function(e){return e.isMobile?"100%":"0px"}),(function(e){var t=e.isMobile,n=e.isFiltersExpanded;return t&&n?"100%":void 0}),(function(e){var t=e.theme;return e.isMobile?t.backgroundBackdrop:void 0}),xn.a.modalBackdrop-3,(function(e){return e.isMobile?"scroll":void 0}),(function(e){return e.theme.breakpoint.sm})),Sn=Object(c.default)(u.e).withConfig({componentId:"sc-vlvksq-7"})(["padding:20px 16px;justify-content:space-between;"]),Nn=Object(c.default)(u.e).withConfig({componentId:"sc-vlvksq-8"})(["align-items:flex-start;position:relative;"]),En=c.default.button.withConfig({componentId:"sc-vlvksq-9"})(["background-color:transparent;border-radius:8px;border:none;color:",";cursor:pointer;display:flex;padding:2px 0px;opacity:1;",""],(function(e){return e.theme.textPrimary}),l.a);t.default=function(){var e,t,n,r=Object(Me.h)().contractAddress,c=Object(m.i)(),d=Object(m.g)(),l=Object(i.a)(d,2),u=l[0],b=l[1],p=Object(Me.f)().pathname,h=Object(Me.g)(),x=p.includes("/activity"),O=Object(m.f)((function(e){return e.setMarketCount})),z=Object(m.e)((function(e){return e.bagExpanded})),T=Object(m.e)((function(e){return e.setBagExpanded})),C=Object(s.useWeb3React)().chainId,I=Object(g.a)(),N=Object(f.b)(r),E=N.data,_=N.loading,M=Object(pn.useSpring)({CollectionContainerWidthChange:z&&!c?(I.xxxl?j.XXXL_BAG_WIDTH:j.BAG_WIDTH)+16:0,config:{duration:hn.a.medium,easing:pn.easings.easeOutSine}}).CollectionContainerWidthChange,R=Object(pn.useSpring)({gridWidthOffset:u&&!c?332:0,config:{duration:hn.a.medium,easing:pn.easings.easeOutSine}}).gridWidthOffset;if(Object(W.useEffect)((function(){var e,t={};null===E||void 0===E||null===(e=E.marketplaceCount)||void 0===e||e.forEach((function(e){var n=e.marketplace,r=e.count;t[n]=r})),O(t)}),[null===E||void 0===E?void 0:E.marketplaceCount,O]),Object(W.useEffect)((function(){z&&u&&!I.xl&&b(!1)}),[z,u,I,b]),Object(W.useEffect)((function(){T({bagExpanded:!1,manualClose:!1})}),[]),_)return Object(w.jsx)(jn,{});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(a.Trace,{page:o.InterfacePageName.NFT_COLLECTION_PAGE,properties:{collection_address:r,chain_id:C,is_activity_view:x},shouldLogImpression:!0,children:Object(w.jsx)(wn,{style:{width:M.to((function(e){return"calc(100% - ".concat(e,"px)")}))},children:r&&!v.a.includes(r)?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(zn,{children:Object(w.jsx)(Tn,{src:(null===E||void 0===E?void 0:E.bannerImageUrl)?"".concat(E.bannerImageUrl,"?w=").concat(window.innerWidth):""})}),Object(w.jsxs)(Cn,{children:[E&&Object(w.jsx)(Yt,{stats:E,isMobile:c}),Object(w.jsx)("div",{id:"nft-anchor"}),Object(w.jsx)(S,{showActivity:x,toggleActivity:function(){u&&b(!1),h(x?"/nfts/collection/".concat(r):"/nfts/collection/".concat(r,"/activity"))}})]}),Object(w.jsxs)(Nn,{children:[Object(w.jsx)(In,{isMobile:c,isFiltersExpanded:u,children:u&&Object(w.jsxs)(w.Fragment,{children:[c&&Object(w.jsxs)(Sn,{children:[Object(w.jsx)(ie.x.HeadlineSmall,{children:"Filter"}),Object(w.jsx)(En,{onClick:function(){return b(!1)},children:Object(w.jsx)(K.i,{})})]}),Object(w.jsx)(ln,{traitsByGroup:null!==(e=null===E||void 0===E?void 0:E.traits)&&void 0!==e?e:mn})]})}),Object(w.jsx)(kn,{hideUnderneath:c&&(u||z),style:{transform:R.to((function(e){return"translate(".concat(e,"px)")})),width:R.to((function(e){return"calc(100% - ".concat(e,"px)")}))},children:x?r&&Object(w.jsx)(k.a,{contractAddress:r,rarityVerified:null!==(t=null===E||void 0===E?void 0:E.rarityVerified)&&void 0!==t&&t,collectionName:null!==(n=null===E||void 0===E?void 0:E.name)&&void 0!==n?n:"",chainId:C}):r&&E&&Object(w.jsx)(W.Suspense,{fallback:Object(w.jsx)(mt,{}),children:Object(w.jsx)(vt,{collectionStats:E,contractAddress:r,rarityVerified:null===E||void 0===E?void 0:E.rarityVerified})})})]})]}):Object(w.jsx)("div",{className:un.b,children:"No collection assets exist at this address"})})}),Object(w.jsx)(y,{})]})}}}]);
//# sourceMappingURL=8.20e7d86a.chunk.js.map