(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[1],{1905:function(e,t,n){"use strict";n.r(t),n.d(t,"BAG_WIDTH",(function(){return St})),n.d(t,"XXXL_BAG_WIDTH",(function(){return Pt}));var r=n(8),i=n(3),c=n(2),o=n(7),a=n(38),s=n(26),u=n(251),l=n(35),d=n(131),b=n(18),p=n(23),j=n(171),f=n(81),g=n(17),x=n(406),O=n(181),m=n(103),h=n(208),v=n(9),I=n(795),w=n(78),y=n(428),A=n(250),k=n(369),T=n(213),N=n(583),E=n(1914),C=n(6),S=n(1028),P=n(1026),_=n(1);var z=n(4),B=n.n(z),R=n(16),L=n(29),D=n(47),F=n(168),U=n(22),H=n(1002),M=n(828);function G(e){return e.filter((function(e){return e.status!==D.c.UNAVAILABLE})).map((function(e){return e.asset}))}function W(e,t,n){var r=Object(H.a)(e,t),i=r.hasPriceAdjustment,c=r.updatedAssets,o=i&&n,a=Object(M.a)(c),s=a.unchanged,u=a.priceChanged,l=a.unavailable,d=c.length>0,b=u.length>0,p=l.length>0,j=b||p,f=function(e,t,n){return[].concat(Object(U.a)(e.map((function(e){return{asset:e,status:D.c.UNAVAILABLE}}))),Object(U.a)(t.map((function(e){return{asset:e,status:D.c.REVIEWING_PRICE_CHANGE}}))),Object(U.a)(n.map((function(e){return{asset:e,status:D.c.REVIEWED}}))))}(l,u,s),g=function(e,t,n,r){return e?t?n?D.d.IN_REVIEW:D.d.CONFIRM_REVIEW:r?D.d.CONFIRM_QUOTE:D.d.CONFIRMING_IN_WALLET:D.d.ADDING_TO_BAG}(d,j,b,o);return{newBagItems:f,nextBagStatus:g}}function V(e){return{action:D.i.Buy,marketplace:e.marketplace.toLowerCase(),amountIn:e.price.value,assetIn:{ETHPrice:e.price.value,baseAsset:e.price.currency,basePrice:e.price.value,baseDecimals:"18"},amountOut:e.amount.toString(),assetOut:{id:e.id,decimals:18,address:e.contractAddress,priceInfo:{ETHPrice:e.price.value,baseAsset:e.price.currency,basePrice:e.price.value,baseDecimals:"18"},tokenType:e.tokenType,tokenId:e.tokenId,amount:e.amount.toString(),marketplace:e.marketplace.toLowerCase(),orderSource:"api"}}}function q(e,t){var n=e.route?e.route.map(V):[];return{route:n,routeResponse:{route:n,valueToSend:t?void 0:e.sendAmount.value,data:e.calldata,to:e.toAddress}}}var Y=n(582),X=n.n(Y),$=n(821),Q=n(829);var K=n(136),J=n.n(K),Z=n(137),ee=J()()(Object(Z.devtools)((function(e){return{inputCurrency:void 0,tokenTradeInput:void 0,setInputCurrency:function(t){return e((function(){return{inputCurrency:t}}))},clearInputCurrency:function(){return e((function(){return{inputCurrency:void 0}}))},setTokenTradeInput:function(t){return e((function(){return{tokenTradeInput:t}}))}}}),{name:"useTokenInput"}));function te(){var e=Object(b.useWeb3React)().account,t=Object(N.a)((function(e){return{itemsInBag:e.itemsInBag,setBagStatus:e.setBagStatus,didOpenUnavailableAssets:e.didOpenUnavailableAssets,setDidOpenUnavailableAssets:e.setDidOpenUnavailableAssets,isLocked:e.isLocked,setLocked:e.setLocked,setItemsInBag:e.setItemsInBag}}),Y.shallow),n=t.itemsInBag,i=t.setBagStatus,c=t.didOpenUnavailableAssets,o=t.setDidOpenUnavailableAssets,a=t.isLocked,s=t.setLocked,u=t.setItemsInBag,l=ee((function(e){return e.tokenTradeInput})),d=Object(_.useMemo)((function(){return Object(F.F)(n)}),[n]),p=Object(L.r)(),j=Object(r.a)(p,1)[0],f=function(){var e=Object(b.useWeb3React)().provider,t=Object($.a)((function(e){return e.sendTransaction})),n=Object(Q.a)((function(e){return e.setTransactionResponse})),r=Object(N.a)((function(e){return{setLocked:e.setLocked,setBagExpanded:e.setBagExpanded,reset:e.reset}}),X.a),i=r.setLocked,c=r.setBagExpanded,o=r.reset;return Object(_.useCallback)(function(){var r=Object(R.a)(B.a.mark((function r(a,s){var u,l,d=arguments;return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=d.length>2&&void 0!==d[2]&&d[2],e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,t(e.getSigner(),s,a,u);case 5:(l=r.sent)&&(i(!1),n(l),c({bagExpanded:!1}),o());case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),[e,o,t,c,i,n])}(),g=Object(_.useCallback)((function(){c&&o(!1),!a&&s(!0),i(D.d.FETCHING_ROUTE)}),[a,c,s,i,o]);return Object(_.useCallback)(Object(R.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g(),j({variables:{senderAddress:e||"",nftTrades:Object(F.b)(d),tokenTrades:l||void 0},onCompleted:function(e){if(!e.nftRoute||!e.nftRoute.route)return i(D.d.ADDING_TO_BAG),void s(!1);var t=G(d),n=!!l,r=q(e.nftRoute,n),c=r.route,o=r.routeResponse,a=W(t,c,n),b=a.newBagItems,p=a.nextBagStatus;if(u(b),i(p),p===D.d.CONFIRMING_IN_WALLET)return f(o,t,n),void s(!0);s(!1)}});case 2:case"end":return t.stop()}}),t)}))),[e,j,d,f,g,s,i,u,l])}var ne=n(41),re=n(49);function ie(e){return Object(i.a)(Object(i.a)({},{inputAmount:{amount:(n={inputAmount:e.inputAmount,outputAmount:e.outputAmount}).inputAmount.quotient.toString(),token:{address:n.inputAmount.currency.isToken?n.inputAmount.currency.address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",chainId:n.inputAmount.currency.chainId,decimals:n.inputAmount.currency.decimals,isNative:n.inputAmount.currency.isNative}},outputAmount:{amount:n.outputAmount.quotient.toString(),token:{address:n.outputAmount.currency.isToken?n.outputAmount.currency.address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",chainId:n.outputAmount.currency.chainId,decimals:n.outputAmount.currency.decimals,isNative:n.outputAmount.currency.isNative}}}),{},{pools:(t=e.route.pools,t.map((function(e){return function(e){var t="fee"in e;return{pair:t?void 0:{tokenAmountA:{amount:e.reserve0.quotient.toString(),token:{address:e.token0.address,chainId:e.token0.chainId,decimals:e.token0.decimals,isNative:e.token0.isNative}},tokenAmountB:{amount:e.reserve1.quotient.toString(),token:{address:e.token1.address,chainId:e.token1.chainId,decimals:e.token1.decimals,isNative:e.token1.isNative}}},pool:t?{fee:e.fee,liquidity:e.liquidity.toString(),sqrtRatioX96:e.sqrtRatioX96.toString(),tickCurrent:e.tickCurrent.toString(),tokenA:{address:e.token0.address,chainId:e.token0.chainId,decimals:e.token0.decimals,isNative:e.token0.isNative},tokenB:{address:e.token1.address,chainId:e.token1.chainId,decimals:e.token1.decimals,isNative:e.token1.isNative}}:void 0}}(e)})))});var t,n}function ce(e,t,n){var r=ee((function(e){return e.setTokenTradeInput})),i=!!e&&e.routes,c=!!e&&!!e.inputAmount&&e.inputAmount.currency.isToken,o=!!n&&!!t;Object(_.useEffect)((function(){if(i&&c&&o){var a=parseInt(n.multiply(100).toSignificant(2)),s=function(e){var t,n=[],r=[],i=[],c=e.swaps,o=Object(ne.a)(c);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.route.protocol===re.Protocol.MIXED?n.push(ie(a)):a.route.protocol===re.Protocol.V2?r.push(ie(a)):i.push(ie(a))}}catch(s){o.e(s)}finally{o.f()}return{mixedTokenTradeRouteInputs:n.length>0?n:void 0,v2TokenTradeRouteInputs:r.length>0?r:void 0,v3TokenTradeRouteInputs:i.length>0?i:void 0}}(e),u=s.mixedTokenTradeRouteInputs,l=s.v2TokenTradeRouteInputs,d=s.v3TokenTradeRouteInputs,b={mixedRoutes:u,tradeType:L.j.ExactOutput,v2Routes:l,v3Routes:d},p="permitSignature"in t&&t.permitSignature?{details:{amount:t.permitSignature.details.amount.toString(),expiration:t.permitSignature.details.expiration.toString(),nonce:t.permitSignature.details.nonce.toString(),token:t.permitSignature.details.token},sigDeadline:t.permitSignature.sigDeadline.toString(),signature:t.permitSignature.signature,spender:t.permitSignature.spender}:void 0;r({permit:p,routes:b,slippageToleranceBasisPoints:a,tokenAmount:{amount:e.inputAmount.quotient.toString(),token:{address:e.inputAmount.currency.address,chainId:e.inputAmount.currency.chainId,decimals:e.inputAmount.currency.decimals,isNative:e.inputAmount.currency.isNative}}})}else r(void 0)}),[t,n,o,c,i,r,e])}var oe=n(183),ae=n(40);var se=n(196);function ue(e){var t=Object(c.useTheme)();return Object(_.useMemo)((function(){var n=e?Object(se.a)(e):void 0,r=n?Object(se.b)(n):void 0,i="error"===r?t.accentCritical:"warning"===r?t.accentWarning:void 0;return n&&r&&i?{priceImpactSeverity:{type:r,color:i},displayPercentage:function(){return function(e){var t,n=e.lessThan(0)?"+":"";if(Number(e.numerator)/Number(e.denominator)*100<.005)return"0.00%";var r=parseFloat(null===(t=e.multiply(-1))||void 0===t?void 0:t.toFixed(2));return"".concat(n).concat(r,"%")}(n)}}:void 0}),[t.accentCritical,t.accentWarning,e])}var le,de=n(830),be=n(809),pe=n(1092),je=n(163),fe=n(11),ge=n(491),xe=n(0),Oe=c.default.div.withConfig({componentId:"sc-rcepl8-0"})(["padding:0px 12px;"]),me=c.default.div.withConfig({componentId:"sc-rcepl8-1"})(["border-top:1px solid ",";color:",";display:flex;flex-direction:column;margin:0px 16px 8px;padding:12px 0px;border-bottom-left-radius:12px;border-bottom-right-radius:12px;"],(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.textPrimary})),he=Object(c.default)(p.d).withConfig({componentId:"sc-rcepl8-2"})(["padding-top:8px;padding-bottom:",";"],(function(e){return e.usingPayWithAnyToken?"16px":"20px"})),ve=Object(c.default)(g.e).withConfig({componentId:"sc-rcepl8-3"})(["justify-content:space-between;align-items:start;gap:8px;"]),Ie=Object(c.default)(p.d).withConfig({componentId:"sc-rcepl8-4"})(["text-align:end;overflow-x:hidden;"]),we=Object(c.default)(be.a).withConfig({componentId:"sc-rcepl8-5"})(["width:14px;margin-right:4px;color:inherit;"]),ye=Object(c.default)(fe.x.BodyPrimary).withConfig({componentId:"sc-rcepl8-6"})(["align-items:center;color:",";display:flex;justify-content:center;margin-bottom:10px !important;text-align:center;"],(function(e){return e.$color})),Ae=Object(c.default)(fe.x.Caption).withConfig({componentId:"sc-rcepl8-7"})(["color:",";display:flex;justify-content:center;text-align:center;margin-bottom:10px !important;"],(function(e){return e.$color})),ke=Object(c.default)(g.e).withConfig({componentId:"sc-rcepl8-8"})(["gap:8px;cursor:pointer;"]),Te=c.default.button.withConfig({componentId:"sc-rcepl8-9"})(["display:flex;background:",";color:",";font-weight:600;line-height:24px;font-size:16px;gap:16px;justify-content:center;border:none;border-radius:12px;padding:12px 0px;cursor:pointer;align-items:center;&:disabled{opacity:0.6;cursor:auto;}"],(function(e){return e.$backgroundColor}),(function(e){return e.$color})),Ne=Object(c.default)(O.a).withConfig({componentId:"sc-rcepl8-10"})(["border-radius:4px;width:4rem;height:20px;align-self:end;"]),Ee=Object(c.default)(g.e).withConfig({componentId:"sc-rcepl8-11"})(["align-items:center;gap:8px;width:100%;justify-content:flex-end;"]),Ce=Object(c.default)(g.e).withConfig({componentId:"sc-rcepl8-12"})(["align-items:center;gap:8px;"]),Se=Object(c.default)(fe.x.BodyPrimary).withConfig({componentId:"sc-rcepl8-13"})(["line-height:20px;font-weight:500;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;scrollbar-width:none;::-webkit-scrollbar{display:none;}"]),Pe=function(e){var t=e.disabled,n=e.children,r=e.onClick,i=e.backgroundColor,c=e.textColor;return Object(xe.jsx)(Te,{disabled:t,onClick:r,$backgroundColor:i,$color:c,children:n})},_e=function(e){var t=e.color,n=e.children;return n?Object(xe.jsxs)(ye,{fontSize:"14px",lineHeight:"20px",$color:t,children:[Object(xe.jsx)(we,{}),n]}):null},ze=function(e){var t=e.children,n=e.color;return t?Object(xe.jsx)(Ae,{lineHeight:"16px",$color:n,children:t}):null},Be=function(e){var t,n=e.usingPayWithAnyToken,r=e.totalEthPrice,i=e.activeCurrency,c=e.tradeState,a=e.trade;return n?c===je.b.LOADING?Object(xe.jsx)(fe.x.BodyPrimary,{color:"textTertiary",lineHeight:"20px",fontWeight:"500",children:Object(xe.jsx)(o.b,{id:"Fetching price..."})}):Object(xe.jsx)(Se,{color:c===je.b.SYNCING?"textTertiary":"textPrimary",children:Object(F.h)(null===a||void 0===a?void 0:a.inputAmount.toExact())}):Object(xe.jsxs)(fe.x.BodyPrimary,{lineHeight:"20px",fontWeight:"500",children:[Object(F.p)(r.toString()),"\xa0",null!==(t=null===i||void 0===i?void 0:i.symbol)&&void 0!==t?t:"ETH"]})},Re=function(e){var t=e.usdcValue,n=e.priceImpact,r=e.tradeState,i=e.usingPayWithAnyToken;return t?Object(xe.jsxs)(Ee,{children:[n&&Object(xe.jsx)(xe.Fragment,{children:Object(xe.jsx)(m.a,{text:l.a._("The estimated difference between the USD values of input and output amounts."),children:Object(xe.jsxs)(Ce,{children:[Object(xe.jsx)(be.a,{color:n.priceImpactSeverity.color,size:"16px"}),Object(xe.jsxs)(fe.x.BodySmall,{style:{color:n.priceImpactSeverity.color},lineHeight:"20px",children:["(",Object(xe.jsx)(o.b,{id:"{0}",values:{0:n.displayPercentage()}}),")"]})]})})}),Object(xe.jsx)(fe.x.BodySmall,{color:"textTertiary",lineHeight:"20px",children:"".concat(Object(F.h)(null===t||void 0===t?void 0:t.toExact(),!0))})]}):!i||r!==je.b.INVALID&&r!==je.b.NO_ROUTE_FOUND?Object(xe.jsx)(Ne,{}):null},Le=[D.d.FETCHING_ROUTE,D.d.CONFIRMING_IN_WALLET,D.d.FETCHING_FINAL_ROUTE,D.d.PROCESSING_TRANSACTION],De=function(e){var t,n=e.setModalIsOpen,u=e.eventProperties,l=Object(h.b)(),O=Object(c.useTheme)(),m=Object(b.useWeb3React)(),z=m.account,L=m.chainId,U=m.connector,H=Boolean(z&&L),M=Object(E.a)(),G=Object(I.b)(),W=ee((function(e){return e.inputCurrency})),V=ee((function(e){return e.setInputCurrency})),q=Object(w.b)("ETH"),X=Object(k.d)(null!==z&&void 0!==z?z:void 0,W&&W.isToken?W:void 0),Q=Object(N.a)((function(e){return{isLocked:e.isLocked,bagStatus:e.bagStatus,setBagExpanded:e.setBagExpanded,setBagStatus:e.setBagStatus}}),Y.shallow),K=Q.isLocked,J=Q.bagStatus,Z=Q.setBagExpanded,ne=Q.setBagStatus,re=Object(_.useState)(!1),ie=Object(r.a)(re,2),se=ie[0],le=ie[1],be=Le.includes(J),we=null!==W&&void 0!==W?W:q,ye=!!W&&G&&L===v.e.MAINNET;!function(e){var t=Object($.a)((function(e){return e.state})),n=Object($.a)((function(e){return e.setState})),r=Object(_.useRef)(t),i=Object(N.a)((function(e){return{setBagExpanded:e.setBagExpanded,setBagStatus:e.setBagStatus,setLocked:e.setLocked}}),Y.shallow),c=i.setBagStatus,o=i.setLocked;Object(_.useEffect)((function(){$.a.subscribe((function(e){return r.current=e.state}))}),[]),Object(_.useEffect)((function(){r.current===D.l.Confirming&&c(D.d.PROCESSING_TRANSACTION),r.current!==D.l.Denied&&r.current!==D.l.Invalid||(r.current===D.l.Invalid?c(D.d.WARNING):c(D.d.CONFIRM_REVIEW),n(D.l.New),o(!1),e(!1))}),[o,c,e,n,r.current])}(n);var Ae=te(),Te=Object(_.useMemo)((function(){return Object(T.a)(Object(d.formatEther)(M.toString()),null!==q&&void 0!==q?q:void 0)}),[q,M]),Ne=function(e,t){var n=Object(P.a)(C.TradeType.EXACT_OUTPUT,t,null!==e&&void 0!==e?e:void 0),r=n.state,i=n.trade,c=Object(S.a)(i),o=Object(_.useMemo)((function(){var e=null===i||void 0===i?void 0:i.maximumAmountIn(c);return(null===e||void 0===e?void 0:e.currency.isToken)?e:void 0}),[c,i]);return Object(_.useMemo)((function(){return{state:r,trade:i,maximumAmountIn:o,allowedSlippage:c}}),[c,o,r,i])}(ye?W:void 0,Te),Ee=Ne.state,Ce=Ne.trade,Se=Ne.maximumAmountIn,De=Ne.allowedSlippage,Fe=function(e,t,n){var i=Object(b.useWeb3React)().chainId,c=Object(y.b)(n?null!==t&&void 0!==t?t:(null===e||void 0===e?void 0:e.currency.isToken)?e:void 0:void 0,n&&i?Object(oe.UNIVERSAL_ROUTER_ADDRESS)(i):void 0),o=c.state===y.a.REQUIRED&&c.isApprovalLoading,u=Object(_.useState)(!1),l=Object(r.a)(u,2),d=l[0],p=l[1],j=Object(_.useCallback)(Object(R.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(ae.default)(c.state===y.a.REQUIRED),p(!0),e.prev=2,e.next=5,c.approveAndPermit();case 5:Object(a.sendAnalyticsEvent)(s.InterfaceEventName.APPROVE_TOKEN_TXN_SUBMITTED,{chain_id:i,token_symbol:null===t||void 0===t?void 0:t.currency.symbol,token_address:null===t||void 0===t?void 0:t.currency.address}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[c,i,null===t||void 0===t?void 0:t.currency.address,null===t||void 0===t?void 0:t.currency.symbol]);return Object(_.useMemo)((function(){return{allowance:c,isApprovalLoading:o,isAllowancePending:d,updateAllowance:j}}),[c,d,o,j])}((null===Ce||void 0===Ce?void 0:Ce.inputAmount.currency.isToken)?null===Ce||void 0===Ce?void 0:Ce.inputAmount:void 0,Se,G),Ue=Fe.allowance,He=Fe.isAllowancePending,Me=Fe.isApprovalLoading,Ge=Fe.updateAllowance;ce(Ce,Ue,De);var We=ue(Ce),Ve=Object(A.c)(null===Ce||void 0===Ce?void 0:Ce.inputAmount),qe=Object(A.c)(Te),Ye=ye?Ve:qe,Xe=Object(de.a)().balance,$e=Object(_.useMemo)((function(){if(H&&L===v.e.MAINNET){if(W){var e=null===Ce||void 0===Ce?void 0:Ce.inputAmount;if(!X||!e)return;return!X.lessThan(e)}return Object(d.parseEther)(Xe).gte(M)}}),[H,L,W,Xe,M,null===Ce||void 0===Ce?void 0:Ce.inputAmount,X]);Object(_.useEffect)((function(){ne(D.d.ADDING_TO_BAG)}),[W,ne]);var Qe=Object(_.useMemo)((function(){var e=Ae,t=Object(xe.jsx)(o.b,{id:"Something went wrong"}),n=!0,r=void 0,i=O.accentWarning,c=void 0,a=O.textSecondary,s=O.accentAction,u=O.accentTextLightPrimary;return H&&L!==v.e.MAINNET?(e=function(){return Object(ge.a)(U,v.e.MAINNET)},t=Object(xe.jsx)(o.b,{id:"Switch networks"}),n=!1,r=Object(xe.jsx)(o.b,{id:"Wrong network"})):!1===$e?(t=Object(xe.jsx)(o.b,{id:"Pay"}),n=!0,r=Object(xe.jsx)(o.b,{id:"Insufficient funds"})):J===D.d.WARNING?r=Object(xe.jsx)(o.b,{id:"Something went wrong. Please try again."}):H?J===D.d.FETCHING_FINAL_ROUTE||J===D.d.CONFIRMING_IN_WALLET?(n=!0,t=Object(xe.jsx)(o.b,{id:"Proceed in wallet"})):J===D.d.PROCESSING_TRANSACTION?(n=!0,t=Object(xe.jsx)(o.b,{id:"Transaction pending"})):ye&&Ee!==je.b.VALID?(n=!0,t=Object(xe.jsx)(o.b,{id:"Fetching Route"}),Ee===je.b.INVALID&&(t=Object(xe.jsx)(o.b,{id:"Pay"})),Ee===je.b.NO_ROUTE_FOUND&&(t=Object(xe.jsx)(o.b,{id:"Insufficient liquidity"}),s=O.backgroundInteractive,u=O.textPrimary,c=Object(xe.jsx)(o.b,{id:"Insufficient pool liquidity to complete transaction"}))):Ue.state===y.a.REQUIRED||Ue.state===y.a.LOADING?(e=function(){return Ge()},n=He||Me||Ue.state===y.a.LOADING,Ue.state===y.a.LOADING?t=Object(xe.jsx)(o.b,{id:"Loading Allowance"}):He?t=Object(xe.jsx)(o.b,{id:"Approve in your wallet"}):Me?t=Object(xe.jsx)(o.b,{id:"Approval pending"}):(c=Object(xe.jsx)(o.b,{id:"An approval is needed to use this token."}),t=Object(xe.jsx)(o.b,{id:"Approve"}))):J===D.d.CONFIRM_QUOTE?(n=!1,i=O.accentAction,r=Object(xe.jsx)(o.b,{id:"Price updated"}),t=Object(xe.jsx)(o.b,{id:"Pay"})):We&&"error"===We.priceImpactSeverity.type?(n=!1,s=We.priceImpactSeverity.color,c=Object(xe.jsx)(o.b,{id:"Price impact warning"}),a=We.priceImpactSeverity.color,t=Object(xe.jsx)(o.b,{id:"Pay Anyway"})):!0===$e&&(n=!1,t=Object(xe.jsx)(o.b,{id:"Pay"}),c=ye?Object(xe.jsx)(o.b,{id:"Refunds for unavailable items will be given in ETH"}):void 0):(e=function(){l(),Z({bagExpanded:!1})},n=!1,t=Object(xe.jsx)(o.b,{id:"Connect wallet"})),{buttonText:t,buttonTextColor:u,disabled:n,warningText:r,warningTextColor:i,helperText:c,helperTextColor:a,handleClick:e,buttonColor:s}}),[Ae,O.accentWarning,O.textSecondary,O.accentAction,O.accentTextLightPrimary,O.backgroundInteractive,O.textPrimary,H,L,$e,J,ye,Ee,Ue.state,We,U,l,Z,He,Me,Ge]),Ke=Qe.buttonText,Je=Qe.buttonTextColor,Ze=Qe.disabled,et=Qe.warningText,tt=Qe.warningTextColor,nt=Qe.helperText,rt=Qe.helperTextColor,it=Qe.handleClick,ct=Qe.buttonColor,ot=Object(i.a)({usd_value:null===Ye||void 0===Ye?void 0:Ye.toExact(),using_erc20:!!W},u);return Object(xe.jsxs)(Oe,{children:[Object(xe.jsxs)(me,{children:[G&&Object(xe.jsxs)(he,{gap:"xs",usingPayWithAnyToken:G,children:[Object(xe.jsxs)(ve,{children:[Object(xe.jsxs)(p.d,{gap:"xs",children:[Object(xe.jsx)(fe.x.SubHeaderSmall,{children:Object(xe.jsx)(o.b,{id:"Pay with"})}),Object(xe.jsxs)(ke,{onClick:function(){K||(le(!0),Object(a.sendAnalyticsEvent)(s.NFTEventName.NFT_BUY_TOKEN_SELECTOR_CLICKED))},children:[Object(xe.jsx)(f.a,{currency:we,size:"24px"}),Object(xe.jsx)(fe.x.HeadlineSmall,{fontWeight:500,lineHeight:"24px",children:null===we||void 0===we?void 0:we.symbol}),Object(xe.jsx)(pe.a,{size:20,color:O.textSecondary})]})]}),Object(xe.jsxs)(Ie,{gap:"xs",children:[Object(xe.jsx)(fe.x.SubHeaderSmall,{marginBottom:"4px",children:Object(xe.jsx)(o.b,{id:"Total"})}),Object(xe.jsx)(Be,{usingPayWithAnyToken:ye,totalEthPrice:M,activeCurrency:we,tradeState:Ee,trade:Ce})]})]}),Object(xe.jsx)(Re,{usdcValue:Ye,priceImpact:We,tradeState:Ee,usingPayWithAnyToken:ye})]}),!G&&Object(xe.jsxs)(he,{gap:"xs",children:[Object(xe.jsxs)(g.e,{justify:"space-between",children:[Object(xe.jsx)("div",{children:Object(xe.jsx)(fe.x.HeadlineSmall,{children:"Total"})}),Object(xe.jsx)("div",{children:Object(xe.jsxs)(fe.x.HeadlineSmall,{children:[Object(F.p)(M.toString()),"\xa0",null!==(t=null===we||void 0===we?void 0:we.symbol)&&void 0!==t?t:"ETH"]})})]}),Object(xe.jsx)(Re,{usdcValue:Ye,priceImpact:We,tradeState:Ee,usingPayWithAnyToken:ye})]}),Object(xe.jsxs)(a.TraceEvent,{events:[s.BrowserEvent.onClick],name:s.NFTEventName.NFT_BUY_BAG_PAY,element:s.InterfaceElementName.NFT_BUY_BAG_PAY_BUTTON,properties:Object(i.a)({},ot),shouldLogImpression:H&&!Ze,children:[Object(xe.jsx)(_e,{color:tt,children:et}),Object(xe.jsx)(ze,{color:rt,children:nt}),Object(xe.jsxs)(Pe,{onClick:it,disabled:Ze||be,backgroundColor:ct,textColor:Je,children:[be&&Object(xe.jsx)(j.b,{size:"20px",stroke:"white"}),Ke]})]})]}),Object(xe.jsx)(x.a,{isOpen:se,onDismiss:function(){return le(!1)},onCurrencySelect:function(e){V(e.isNative?void 0:e),e.isToken&&Object(a.sendAnalyticsEvent)(s.NFTEventName.NFT_BUY_TOKEN_SELECTED,{token_address:e.address,token_symbol:e.symbol})},selectedCurrency:null!==we&&void 0!==we?we:void 0,onlyShowCurrenciesWithBalance:!0})]})},Fe=n(72),Ue=n(586),He=n(118),Me=n(1888),Ge=n(174),We=n(135),Ve=(n(310),n(2016),n(64)),qe=n(279),Ye=n(43),Xe=n(34),$e=Object(c.keyframes)(le||(le=Object(Xe.a)(["\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n"]))),Qe=c.default.circle.withConfig({componentId:"sc-5ix82i-0"})(["stroke-dasharray:1000;stroke-dashoffset:0;-webkit-animation:"," linear;animation:"," linear;animation-duration:160s;stroke:",";"],$e,$e,(function(e){return e.theme.accentAction})),Ke=function(){return Object(xe.jsx)(Fe.b,{display:"flex",position:"absolute",children:Object(xe.jsx)("svg",{height:"18px",width:"18px",children:Object(xe.jsx)(Qe,{strokeWidth:"".concat(1.5),strokeLinecap:"round",style:{transform:"rotate(90deg)",transformOrigin:"50% 50%"},fill:"transparent",r:"8px",cx:"9px",cy:"9px"})})})},Je=n(833),Ze=n(116),et=n(366),tt=n(719),nt=n(52),rt=(n(581),n(2017),"_1kuawc1 rgw6ez2qg rgw6ez2wv rgw6ez32w rgw6ez2jn rgw6ez52p rgw6ez4eq rgw6ez7y5 rgw6ez1lf rgw6ez7zp"),it="rgw6ez1aj rgw6ez1ii rgw6ez4xl rgw6ez7zh",ct="_1kuawc7",ot="_1kuawcb rgw6ezcb rgw6ezeg rgw6ez8a9 rgw6ez4t4 rgw6ez4sx",at="rgw6eze9 rgw6ezc4 rgw6ezg0 rgw6ez8a9 rgw6ez4sx rgw6ez4t4 rgw6ez52v",st="rgw6ez4js",ut=Object(c.default)(Ye.r).withConfig({componentId:"sc-iebvtt-0"})(["border-radius:12px;font-size:14px;line-height:16px;margin-left:16px;padding:12px 14px;"]),lt=Object(c.default)(Ye.r).withConfig({componentId:"sc-iebvtt-1"})(["border-radius:12px;flex:1 1 auto;font-size:14px;padding:8px;width:50%;"]),dt=c.default.div.withConfig({componentId:"sc-iebvtt-2"})(["position:absolute;display:block;right:-11px;top:-11px;z-index:1;transition:250ms;width:45px;height:45px;display:flex;align-items:center;justify-content:center;"]),bt=function(e){var t=e.onClick;return Object(xe.jsx)(dt,{onClick:t,children:Object(xe.jsx)(Ze.t,{})})},pt=function(){return Object(xe.jsx)(Fe.b,{position:"relative",background:"loadingBackground",className:it,children:Object(xe.jsxs)(Fe.b,{position:"absolute",textAlign:"center",left:"1/2",top:"1/2",style:{transform:"translate3d(-50%, -50%, 0)"},color:"gray500",fontSize:"12",fontWeight:"normal",children:["Image",Object(xe.jsx)("br",{}),"not",Object(xe.jsx)("br",{}),"available"]})})},jt=function(e){var t,n=e.asset,i=e.usdPrice,c=e.removeAsset,o=e.showRemove,a=e.grayscale,s=e.isMobile,u=Object(_.useState)(!1),l=Object(r.a)(u,2),b=l[0],p=l[1],j=Object(_.useState)(!n.smallImageUrl),f=Object(r.a)(j,2),g=f[0],x=f[1],O=Object(_.useState)(!1),m=Object(r.a)(O,2),h=m[0],v=m[1],I=Object(_.useCallback)((function(){return v(!0)}),[]),w=Object(_.useCallback)((function(){return v(!1)}),[]),y=Boolean(o&&h&&!s),A=n.updatedPriceInfo?n.updatedPriceInfo.ETHPrice:n.priceInfo.ETHPrice,k=Object(F.p)(A),T=Object(F.h)(i?parseFloat(Object(d.formatEther)(A))*i:i,!0),N=Object(_.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),c([n])}),[n,c]);return Object(xe.jsx)(nt.b,{to:Object(F.t)(n),style:{textDecoration:"none"},children:Object(xe.jsxs)(He.c,{className:rt,onMouseEnter:I,onMouseLeave:w,children:[Object(xe.jsxs)(Fe.b,{position:"relative",display:"flex",children:[o&&s&&Object(xe.jsx)(bt,{onClick:N}),!g&&Object(xe.jsx)(Fe.b,{as:"img",src:n.smallImageUrl,alt:n.name,className:Object(qe.default)(it,a&&!h&&ct),onLoad:function(){p(!0)},onError:function(){x(!0)},visibility:b?"visible":"hidden"}),!b&&Object(xe.jsx)(Fe.b,{position:"absolute",className:"".concat(it," ").concat(tt.b)}),g&&Object(xe.jsx)(pt,{})]}),Object(xe.jsxs)(He.b,{overflow:"hidden",width:"full",color:a?"textSecondary":"textPrimary",children:[Object(xe.jsxs)(He.c,{overflow:"hidden",width:"full",whiteSpace:"nowrap",children:[Object(xe.jsx)(Fe.b,{className:ot,children:null!==(t=n.name)&&void 0!==t?t:"#".concat(n.tokenId)}),n.susFlag&&Object(xe.jsx)(Je.c,{})]}),Object(xe.jsxs)(He.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(xe.jsx)(Fe.b,{className:at,children:n.collectionName}),n.collectionIsVerified&&Object(xe.jsx)(Ze.gb,{className:st})]})]}),y&&Object(xe.jsx)(ut,{onClick:N,emphasis:Ye.e.medium,size:Ye.n.medium,children:"Remove"}),(!y||s)&&Object(xe.jsxs)(He.b,{flexShrink:"0",alignItems:"flex-end",children:[Object(xe.jsxs)(Fe.b,{className:"_1kuawc9 rgw6ez4dy rgw6ezcb rgw6ezen rgw6ez4js",children:[k,"\xa0ETH"]}),Object(xe.jsx)(Fe.b,{className:at,children:T})]})]})})},ft=function(e){var t,n=e.asset,r=e.usdPrice,i=e.markAssetAsReviewed,c=e.top,o=e.isMobile,a=Ve.a.from(null===(t=n.updatedPriceInfo)||void 0===t?void 0:t.ETHPrice).gt(Ve.a.from(n.priceInfo.ETHPrice)),s=Object(_.useCallback)((function(e){e.preventDefault(),e.stopPropagation();i(n,!1)}),[n,i]),u=Object(_.useCallback)((function(e){e.preventDefault(),e.stopPropagation();i(n,!0)}),[n,i]);return Object(xe.jsxs)(He.b,{className:"rgw6ez33o rgw6ez2kf rgw6ezok rgw6ezuz rgw6ez5gp rgw6ez4ec rgw6ez52p rgw6ez7yh rgw6ez87x rgw6ez5sd rgw6ez6cv rgw6ez1lf rgw6ez7y5",borderTopColor:c?"backgroundOutline":"transparent",children:[Object(xe.jsxs)(He.c,{className:"rgw6eze9 rgw6ezc4 rgw6ezg0 rgw6ez50j rgw6ez4dy",children:[a?Object(xe.jsx)(Ze.Y,{}):Object(xe.jsx)(Ze.X,{}),Object(xe.jsx)(Fe.b,{children:"Price ".concat(a?"increased":"decreased"," from ").concat(Object(F.p)(n.priceInfo.ETHPrice)," ETH")})]}),Object(xe.jsx)(Fe.b,{style:{marginLeft:"-8px",marginRight:"-8px"},children:Object(xe.jsx)(jt,{asset:n,usdPrice:r,removeAsset:function(){},isMobile:o})}),Object(xe.jsxs)(He.c,{gap:"8",justifyContent:"space-between",children:[Object(xe.jsx)(lt,{onClick:s,emphasis:Ye.e.medium,size:Ye.n.small,children:"Remove"}),Object(xe.jsx)(lt,{onClick:u,emphasis:Ye.e.high,size:Ye.n.small,children:"Keep"})]})]})},gt=function(e){var t=e.assets;return Object(xe.jsx)(He.b,{display:"grid",style:{gridTemplateColumns:"repeat(".concat(t.length,", 20px)"),width:"".concat(32+20*(t.length-1),"px")},children:t.map((function(e,t){return Object(xe.jsx)(Fe.b,{as:"img",src:e.smallImageUrl,width:"32",height:"32",borderStyle:"solid",borderWidth:"1px",borderColor:"backgroundSurface",borderRadius:"4",style:{zIndex:t},className:ct},"".concat(e.address,"-").concat(e.tokenId))}))})},xt=function(e){var t=e.assets,n=e.usdPrice,i=e.clearUnavailableAssets,c=e.didOpenUnavailableAssets,o=e.setDidOpenUnavailableAssets,a=e.isMobile,s=Object(_.useReducer)((function(e){return!e}),!1),u=Object(r.a)(s,2),l=u[0],d=u[1],b=Object(_.useState)(8),p=Object(r.a)(b,2),j=p[0],f=p[1];if(Object(_.useEffect)((function(){if(j){var e=setInterval((function(){f(j-1)}),1e3);return function(){return clearInterval(e)}}c||(i(),o(!1))}),[j,i,c,o]),!t||0===t.length)return null;var g=t.length>1,x=l||!g;return Object(xe.jsx)(He.b,{className:"rgw6ez33o rgw6ez2kf rgw6ezok rgw6ezuz rgw6ez5gp rgw6ez4eq rgw6ez52p rgw6ez7yh rgw6ez87x rgw6ez5sd rgw6ez6op rgw6ez6cv rgw6ez1lf",children:Object(xe.jsxs)(He.b,{children:[Object(xe.jsxs)(He.c,{justifyContent:"space-between",marginBottom:x?"12":"0",cursor:g?"pointer":"default",onClick:function(){g&&(!c&&o(!0),d())},children:[Object(xe.jsxs)(He.c,{gap:"12",color:"textSecondary",className:et.b,children:[!x&&Object(xe.jsx)(gt,{assets:t.slice(0,5)}),"No longer available"]}),g&&Object(xe.jsx)(He.c,{color:"textSecondary",children:l?Object(xe.jsx)(Ze.r,{}):Object(xe.jsx)(Ze.o,{})}),!c&&Object(xe.jsxs)(He.c,{position:"relative",width:"20",height:"20",color:"textPrimary",justifyContent:"center",cursor:"pointer",onClick:i,children:[Object(xe.jsx)(Ke,{}),Object(xe.jsx)(Ze.v,{})]})]}),Object(xe.jsx)(He.b,{gap:"8",style:{marginLeft:"-8px",marginRight:"-8px"},children:x&&t.map((function(e){return Object(xe.jsx)(jt,{asset:e,usdPrice:n,removeAsset:function(){},grayscale:!0,isMobile:a},e.id)}))})]})})},Ot=n(367),mt=function(){var e=Object(Ge.e)((function(e){return e.bagStatus})),t=Object(Ge.e)((function(e){return e.setBagStatus})),n=Object(Ge.e)((function(e){return e.markAssetAsReviewed})),r=Object(Ge.e)((function(e){return e.didOpenUnavailableAssets})),c=Object(Ge.e)((function(e){return e.setDidOpenUnavailableAssets})),o=Object(Ge.e)((function(e){return e.itemsInBag})),u=Object(Ge.e)((function(e){return e.setItemsInBag})),l=Object(Ge.e)((function(e){return e.removeAssetsFromBag})),d=Object(Ge.i)(),b=Object(_.useMemo)((function(){return Object(F.F)(o)}),[o]),p=Object(Ot.useQuery)(["fetchPrice",{}],(function(){return Object(F.i)()}),{}).data,j=Object(_.useMemo)((function(){return{unchangedAssets:b.filter((function(e){return e.status===D.c.ADDED_TO_BAG||e.status===D.c.REVIEWED})).map((function(e){return e.asset})),priceChangedAssets:b.filter((function(e){return e.status===D.c.REVIEWING_PRICE_CHANGE})).map((function(e){return e.asset})),unavailableAssets:b.filter((function(e){return e.status===D.c.UNAVAILABLE})).map((function(e){return e.asset})),availableItems:b.filter((function(e){return e.status!==D.c.UNAVAILABLE}))}}),[b]),f=j.unchangedAssets,g=j.priceChangedAssets,x=j.unavailableAssets,O=j.availableItems;return Object(_.useEffect)((function(){var n=g.length>0,r=b.length>0;n&&Object(a.sendAnalyticsEvent)(s.NFTEventName.NFT_BUY_BAG_CHANGED,Object(i.a)({usd_value:p,bag_quantity:b},Object(F.k)(g))),e!==D.d.IN_REVIEW||n||t(r?D.d.CONFIRM_REVIEW:D.d.ADDING_TO_BAG),e!==D.d.CONFIRM_REVIEW||r||t(D.d.ADDING_TO_BAG)}),[e,b,g,t,p]),Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(He.b,{display:g.length>0||x.length>0?"flex":"none",children:[x.length>0&&Object(xe.jsx)(a.Trace,{name:s.NFTEventName.NFT_BUY_BAG_CHANGED,properties:Object(i.a)({usd_value:p,bag_quantity:b.length},Object(F.k)(x)),shouldLogImpression:!0,children:Object(xe.jsx)(xt,{assets:x,usdPrice:p,clearUnavailableAssets:function(){return u(O)},didOpenUnavailableAssets:r,setDidOpenUnavailableAssets:c,isMobile:d})}),g.map((function(e,t){return Object(xe.jsx)(ft,{asset:e,usdPrice:p,markAssetAsReviewed:n,top:0===t&&0===x.length,isMobile:d},e.id)}))]}),Object(xe.jsx)(He.b,{children:f.slice(0).reverse().map((function(e){return Object(xe.jsx)(jt,{asset:e,usdPrice:p,removeAsset:l,showRemove:!0,isMobile:d},e.id)}))})]})},ht=n(580),vt=Object(c.default)(fe.c).withConfig({componentId:"sc-bq6y8h-0"})(["color:",";cursor:pointer;font-weight:600;font-size:14px;line-height:16px;:active{text-decoration:none;}"],(function(e){return e.theme.textSecondary})),It=c.default.button.withConfig({componentId:"sc-bq6y8h-1"})(["align-items:center;background-color:transparent;border-radius:8px;border:none;color:",";cursor:pointer;display:flex;flex-direction:row;justify-content:flex-end;margin-left:auto;padding:2px;opacity:1;",""],(function(e){return e.theme.textPrimary}),ht.a),wt=c.default.div.withConfig({componentId:"sc-bq6y8h-2"})(["align-items:center;background-color:",";border-radius:100px;font-weight:bold;color:",";display:flex;font-size:10px;justify-content:center;min-width:",";min-height:",";padding:4px 6px;"],(function(e){return e.theme.accentAction}),(function(e){return e.theme.accentTextLightPrimary}),(function(e){return e.sizing}),(function(e){return e.sizing})),yt=c.default.div.withConfig({componentId:"sc-bq6y8h-3"})(["align-items:center;display:flex;flex-direction:row;gap:8px;justify-content:flex-start;margin:16px 28px;text-align:center;"]),At=function(e){var t=e.numberOfAssets,n=e.closeBag,r=e.resetFlow,i=e.isProfilePage,c=Object(_.useMemo)((function(){return function(e){var t=e.toString().length;return"".concat(14+6*t,"px")}(t)}),[t]);return Object(xe.jsxs)(yt,{children:[Object(xe.jsx)(fe.x.HeadlineSmall,{children:i?Object(xe.jsx)(o.b,{id:"Sell"}):Object(xe.jsx)(o.b,{id:"Bag"})}),t>0&&Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(wt,{sizing:c,children:t}),Object(xe.jsx)(vt,{onClick:r,children:Object(xe.jsx)(o.b,{id:"Clear all"})})]}),Object(xe.jsx)(It,{onClick:n,children:Object(xe.jsx)(Ze.i,{"data-testid":"nft-bag-close-icon"})})]})},kt=n(95),Tt=Object(c.default)(He.b).withConfig({componentId:"sc-xhr1rt-0"})(["gap:12px;margin-top:68px;"]),Nt=function(){var e=Object(u.c)();return Object(xe.jsxs)(Tt,{children:[Object(xe.jsx)(He.a,{children:e?Object(xe.jsx)(Ze.H,{color:kt.c.colors.textTertiary}):Object(xe.jsx)(Ze.j,{color:kt.c.colors.textTertiary,height:"96px",width:"96px",strokeWidth:"1px"})}),e?Object(xe.jsx)(He.a,{"data-testid":"nft-no-nfts-selected",className:et.h,children:"No NFTs selected"}):Object(xe.jsxs)(He.b,{gap:"16",children:[Object(xe.jsx)(He.a,{"data-testid":"nft-empty-bag",className:et.h,style:{lineHeight:"24px"},children:"Your bag is empty"}),Object(xe.jsx)(He.a,{fontSize:"12",fontWeight:"normal",color:"textSecondary",style:{lineHeight:"16px"},children:"Selected NFTs will appear here"})]})]})},Et=function(e){var t=e.asset,n=Object(Ge.m)((function(e){return e.removeSellAsset})),i=Object(Ge.i)(),c=Object(_.useState)(!1),o=Object(r.a)(c,2),a=o[0],s=o[1],u=function(){return s(!a)},l=function(e){e.preventDefault(),e.stopPropagation(),n(t)};return Object(xe.jsxs)(He.c,{className:rt,onMouseEnter:u,onMouseLeave:u,children:[Object(xe.jsxs)(Fe.b,{position:"relative",display:"flex",children:[i&&Object(xe.jsx)(bt,{onClick:l}),Object(xe.jsx)("img",{src:t.smallImageUrl,alt:t.name,className:it})]}),Object(xe.jsxs)(He.b,{overflow:"hidden",width:"full",color:"textPrimary",children:[Object(xe.jsx)(He.c,{overflow:"hidden",width:"full",justifyContent:"space-between",whiteSpace:"nowrap",gap:"16",children:Object(xe.jsx)(Fe.b,{className:ot,children:t.name||"#".concat(t.tokenId)})}),Object(xe.jsxs)(He.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(xe.jsx)(Fe.b,{className:at,children:t.asset_contract.name}),t.collectionIsVerified&&Object(xe.jsx)(Ze.gb,{className:st})]})]}),a&&!i&&Object(xe.jsx)(ut,{onClick:l,emphasis:Ye.e.medium,size:Ye.n.medium,children:"Remove"})]})},Ct=function(){var e=Object(Ge.m)((function(e){return e.sellAssets}));return Object(xe.jsx)(He.b,{children:e.length?e.map((function(e,t){return Object(xe.jsx)(Et,{asset:e},t)})):null})},St=320,Pt=360,_t=c.default.div.withConfig({componentId:"sc-1cpp7nx-0"})(["position:fixed;display:flex;flex-direction:column;top:88px;right:20px;width:","px;height:calc(100vh - 108px);background:",";border:1px solid ",";border-radius:16px;box-shadow:",";z-index:",";@media only screen and (max-width:","){right:0px;top:0px;width:100%;height:100%;border-radius:0px;border:none;}@media only screen and (min-width:","){width:","px;}"],St,(function(e){return e.theme.backgroundSurface}),(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.shallowShadow}),(function(e){var t=e.raiseZIndex,n=e.isProfilePage;return t?n?We.a.modalOverTooltip:We.a.modalBackdrop-1:3}),(function(e){var t=e.theme;return"".concat(t.breakpoint.sm,"px")}),(function(e){var t=e.theme;return"".concat(t.breakpoint.xxxl,"px")}),Pt),zt=c.default.div.withConfig({componentId:"sc-1cpp7nx-1"})(["position:fixed;background:rgba(0,0,0,0.7);top:0px;width:100%;height:100%;"]),Bt=c.default.div.withConfig({componentId:"sc-1cpp7nx-2"})(["background:",";color:",";margin:32px 28px 16px;padding:10px 0px;border-radius:12px;text-align:center;font-size:16px;font-weight:600;line-height:20px;cursor:pointer;transition:",";:hover{opacity:",";}"],(function(e){return e.theme.accentAction}),(function(e){return e.theme.accentTextLightPrimary}),(function(e){return e.theme.transition.duration.medium}),(function(e){return e.theme.opacity.hover})),Rt=function(e){var t=e.top,n=e.show;return Object(xe.jsx)(Fe.b,{marginX:"24",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderTopColor:t?"transparent":"backgroundOutline",borderBottomColor:t?"backgroundOutline":"transparent",opacity:n?"1":"0",transition:"250"})};t.default=function(){var e=Object(Ge.m)((function(e){return{resetSellAssets:e.reset,sellAssets:e.sellAssets}}),Y.shallow),t=e.resetSellAssets,n=e.sellAssets,c=Object(Ge.l)((function(e){return{setProfilePageState:e.setProfilePageState}})).setProfilePageState,l=Object(Ge.e)((function(e){return Object(i.a)(Object(i.a)({},e),{},{bagIsLocked:e.isLocked,uncheckedItemsInBag:e.itemsInBag})}),Y.shallow),d=l.bagStatus,b=l.bagIsLocked,p=l.reset,j=l.bagExpanded,f=l.toggleBag,g=l.setBagExpanded,x=Object(Ge.e)((function(e){return{uncheckedItemsInBag:e.itemsInBag}})).uncheckedItemsInBag,O=Object(u.c)(),m=Object(u.a)(),h=Object(u.b)(),v=Object(Ge.i)(),I=Object(_.useMemo)((function(){return Object(F.F)(x)}),[x]),w=Object(_.useState)(!1),y=Object(r.a)(w,2),A=y[0],k=y[1],T=Object(_.useState)(!1),N=Object(r.a)(T,2),E=N[0],C=N[1],S=Object(_.useState)(0),P=Object(r.a)(S,2),z=P[0],B=P[1],R=Object(_.useCallback)((function(){g({bagExpanded:!1,manualClose:!0})}),[g]);Object(_.useEffect)((function(){b&&!A&&k(!0)}),[b,A]);var L=I.length>0,U=I.length>0,H=n.length>0,M=Boolean(!O&&!U&&d===D.d.ADDING_TO_BAG||O&&!H),G=Object(_.useMemo)((function(){return Object(i.a)({},Object(F.k)(I.map((function(e){return e.asset}))))}),[I]);return j&&h?Object(xe.jsxs)(Ue.a,{children:[Object(xe.jsxs)(_t,{"data-testid":"nft-bag",raiseZIndex:v||A,isProfilePage:O,children:[Object(xe.jsx)(At,{numberOfAssets:O?n.length:I.length,closeBag:R,resetFlow:O?t:p,isProfilePage:O}),M&&Object(xe.jsx)(Nt,{}),Object(xe.jsx)(Rt,{top:!0,show:E&&z>0}),Object(xe.jsx)(He.b,{ref:function(e){if(null!==e){var t=e.scrollHeight>e.clientHeight;t!==E&&C(t)}},className:"_1jcz50r1 rgw6ez2r8 rgw6ez2xn rgw6ez29c rgw6ez8bl",onScroll:function(e){var t=e.currentTarget.scrollTop,n=e.currentTarget.clientHeight,r=e.currentTarget.scrollHeight;B(t?(t+n)/r*100:0)},gap:"12",children:O?Object(xe.jsx)(Ct,{}):Object(xe.jsx)(mt,{})}),L&&!O&&Object(xe.jsx)(De,{setModalIsOpen:k,eventProperties:G}),H&&O&&Object(xe.jsx)(Bt,{onClick:function(){f(),c(D.h.LISTING),Object(a.sendAnalyticsEvent)(s.NFTEventName.NFT_PROFILE_PAGE_START_SELL,{list_quantity:n.length,collection_addresses:n.map((function(e){return e.asset_contract.address})),token_ids:n.map((function(e){return e.tokenId}))})},children:Object(xe.jsx)(o.b,{id:"Continue"})})]}),m?Object(xe.jsx)(zt,{onClick:f}):A&&Object(xe.jsx)(Me.a,{onClick:function(){return b?void 0:k(!1)}})]}):null}},1914:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var r=n(64),i=n(131),c=n(78),o=n(250),a=n(213),s=n(47),u=n(1),l=n(583);function d(){var e=Object(l.a)((function(e){return e.itemsInBag}));return Object(u.useMemo)((function(){return e.reduce((function(e,t){return t.status!==s.c.UNAVAILABLE?e.add(r.a.from(t.asset.updatedPriceInfo?t.asset.updatedPriceInfo.ETHPrice:t.asset.priceInfo.ETHPrice)):e}),r.a.from(0))}),[e])}function b(){var e=d(),t=Object(c.b)("ETH"),n=Object(u.useMemo)((function(){return Object(a.a)(Object(i.formatEther)(e.toString()),null!==t&&void 0!==t?t:void 0)}),[t,e]),r=Object(o.c)(n);return Object(u.useMemo)((function(){return null===r||void 0===r?void 0:r.toExact()}),[r])}},2016:function(e,t,n){},2017:function(e,t,n){}}]);
//# sourceMappingURL=1.3674a200.chunk.js.map